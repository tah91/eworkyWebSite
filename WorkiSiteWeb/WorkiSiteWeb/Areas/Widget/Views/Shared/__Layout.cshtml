@inherits System.Web.Mvc.WebViewPage

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>search a place</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <link href="@Url.VersionedContent(Links.Content.boilerplate_min_css)" rel="stylesheet" type="text/css"/>
        <link href="@Url.VersionedContent(Links.Content.scss.bootstrap_css)" type="text/css" rel="stylesheet">
        <link href="@Url.VersionedContent(Links.Content.scss.responsive_css)" type="text/css" rel="stylesheet">
        <link href="@Url.VersionedContent(Links.Content.Widget_min_css)" rel="stylesheet" type="text/css"/>

        <script src="@Url.VersionedContent(Links.Scripts.require_jquery_js)"></script>
        @RenderSection("HeadContent", true)
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

    </head>

    <body>
        @if (!Request.IsAuthenticated)
        {
            @Html.ActionLink("login", MVC.Widget.Search.LogOn(), new { id = "loginBtn" })
        }
        else
        {
            @Html.ActionLink("logout", MVC.Widget.Search.LogOff())
        }
        
        <div id="login-container">
        </div>
        <div class="container-fluid">
            @RenderBody()
	    </div>
        @RenderSection("ScriptContent", false)
        <script type="text/javascript">
            require(["@Url.VersionedContent(@Links.Scripts.bootstrap_modal_js)"], function () {
                $('#loginBtn').click(function () {
                    $.ajax({
                        url: this.href,
                        success: function (data) {
                            $('#login-container').html(data);
                            $('#loginPopup').modal();
                        }
                    });
                    return false;
                });
            });
        </script> 
    </body>
</html>
