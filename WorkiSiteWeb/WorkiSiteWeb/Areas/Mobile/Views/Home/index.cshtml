@model Worki.Data.Models.SearchCriteriaFormViewModel

@{
    ViewBag.Title = "index";
}

@section HeadContent
{
    <title>@Html.WorkiTitle(Worki.Resources.Views.Home.HomeString.BestWorkspace)</title>
    <link href="@Url.Content(Links.Content.Index_css)" rel="stylesheet" type="text/css" />
    <link href="@Url.Content(Links.Content.skin_css)" rel="stylesheet" type="text/css"/>
    <link href="@Url.Content(Links.Content.jquery_ui_1_8_12_custom_css)" rel="stylesheet" type="text/css"/>
}
@using (Html.BeginForm(MVC.Mobile.Search.ActionNames.FullSearch, MVC.Mobile.Search.Name, FormMethod.Post, new { id = "searchform" }))
{
    @Html.AntiForgeryToken();
    <div>
        @Html.DropDownList("Criteria.LocalisationOffer", Model.Offers)
    </div>
    <div>
        près de
    </div>
    <div>
        @Html.TextBoxFor(model => model.Criteria.Place, new { placeHolder = Worki.Resources.Views.Home.HomeString.ExampleLocation })<input type="submit" class="imageBtn" id="btn_searchIndex" value="" />
        @Html.HiddenFor(model => model.Criteria.LocalisationData.Latitude)
        @Html.HiddenFor(model => model.Criteria.LocalisationData.Longitude)
    </div>
    <div>
        <input type="submit" value="où près de ma position" />
    </div>
}

@section ScriptContent
{
    <script type="text/javascript">
        require(["@Url.VersionedContent(Links.Scripts.jquery_placeholder_js)"], function () {
            $('input:text').placeholder();
        });

        require(["@MiscHelpers.jqueryui", "http://maps.google.com/maps/api/js?sensor=true&region=FR&callback=initialize"], function () {
            require(["@Url.VersionedContent(Links.Scripts.WorkiMap_js)"], function () {
                var workiAutocomplete = new WorkiAutoComplete('#Criteria_Place');
                workiAutocomplete.SetAutocomplete();
            });
        });

        function initialize() {

        }
    </script>
}
