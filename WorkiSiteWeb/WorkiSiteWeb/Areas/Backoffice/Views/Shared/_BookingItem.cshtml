@model MemberBooking

@{
	var statusText = "";
	var color = "";
    Model.GetStatusForOwner(out statusText, out color);
}

<li class="bookingItem">
    <div class="innerContentBlock padding10">
        <div class="bookingDesc float-left">
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.Customer, Model.Member.GetFullDisplayName())
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.Localisation, Model.Offer.Localisation.Name)
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.Offer, Model.Offer.Name)
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.Asked, RazorHelpers.DisplayDate(Model.CreationDate, CultureHelpers.TimeFormat.LongGeneral).ToString())
        </div>
        <div class="bookingDesc float-left">
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.Start, RazorHelpers.DisplayDate(Model.FromDate, CultureHelpers.TimeFormat.General).ToString())
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.End, RazorHelpers.DisplayDate(Model.ToDate, CultureHelpers.TimeFormat.General).ToString())
            @RazorHelpers.Description(Worki.Resources.Views.Booking.BookingString.Price, WebHelper.DisplayCurrency(Model.Price))
        </div>
        <div class="bookingStatus bookingStatus@(color) borderRadius float-left">
            <div class="bookingStatusContent">
				@if (!string.IsNullOrEmpty(statusText))
				{
					<div class="bookingStatusDesc">
						@statusText
					</div>
				}
				@if (Model.NeedOwnerAction)
				{
					<div class="buttonStd buttonBlue linkImg bookingStatusAction">
						@Html.ActionLink("Accepter",MVC.Backoffice.Localisation.ConfirmBooking(Model.Id))
					</div>
					<div class="buttonStd buttonBlue linkImg bookingStatusAction">
						@Html.ActionLink("Refuser", MVC.Backoffice.Localisation.RefuseBooking(Model.Id))
					</div>
				}

            </div>
        </div>
        <div class="bookingLinks float-right blue">
            <ul>
                <li>@Html.ActionLink("Details", MVC.Backoffice.Localisation.BookingDetail(Model.Id))</li>
                <li>@Html.ActionLink(Worki.Resources.Views.Booking.BookingString.SeeCustomerSheet, MVC.Dashboard.Profil.Public(Model.MemberId))</li>
            </ul>            
        </div>
        <div class="clear">
        </div>
    </div>
</li> 