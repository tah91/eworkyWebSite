@model BackOfficeLocalisationHomeViewModel

@section HeadContent
{
	<title>@Html.WorkiTitle(Worki.Resources.Menu.Menu.BONews)</title>
	<link href="@Url.VersionedContent(Links.Content.Dashboard_min_css)" rel="stylesheet" type="text/css" />
}

@Html.Partial(MVC.Backoffice.Localisation.Views._LocalisationMenu, new LocalisationMenuIndex { MenuItem = LocalisationMenu.Home, Id = Model.Localisation.ID, Title = Model.Localisation.Name })

<div class="detailContent">

	<div class="blockContainer float-left contentLeft">
		@Html.Partial(MVC.Shared.Views._VerticalMenu, new List<MenuItem> 
		{ 
			new MenuItem{ Selected = true, Link= Html.ActionLink(Worki.Resources.Menu.Menu.BONews, MVC.Backoffice.Localisation.Index(Model.Localisation.ID))} ,
			new MenuItem{ Link= Html.ActionLink(Worki.Resources.Menu.Menu.Bookings, MVC.Backoffice.Localisation.Booking(Model.Localisation.ID))} ,
			new MenuItem{ Link= Html.ActionLink(Worki.Resources.Menu.Menu.Quoations, MVC.Backoffice.Localisation.Quotation(Model.Localisation.ID))}
		})
	</div>

	<div class="blockContainer float-left contentRight">
		<div class="contentBlock">
            @{
                var summaryModel = new SummaryViewModel
                {
                    ImagePath = Model.Localisation.GetMainPic(),
                    ImageAlt = Model.Localisation.Name,
                    Descriptions = new List<DescriptionItem>
                    {
                        new DescriptionItem{ Title = Worki.Resources.Views.BackOffice.BackOfficeString.Place, Value = Model.Localisation.Name, Bold = true},
                        new DescriptionItem{ Title = Worki.Resources.Views.BackOffice.BackOfficeString.Town, Value = Model.Localisation.City, Bold = false}
                    }
                };
            }
            @Html.Partial(MVC.Dashboard.Shared.Views._SummaryContent,summaryModel)
            @Html.Partial(MVC.Dashboard.Shared.Views._NewsContent,Model.News)
            <div class="clear">
	        </div>
            <div class="newsBottom innerContentBlock">
                <div class="newsHeader">
                    @Worki.Resources.Views.BackOffice.BackOfficeString.OffersDirectAccess
                </div>
                <div class="padding10">
                    @if (Model.Localisation.Offers.Count > 0)
                    {
                    	<ul>
			            @foreach (var item in Model.Localisation.Offers)
			            {
                            <a href="@Url.Action(MVC.Backoffice.Localisation.ConfigureOffer(item.Localisation.ID, item.Id))">
                                <div class="localisationTag float-left">
                                    <div class="localisationImgDiv borderedImg">
                                        @RazorHelpers.CenterImage(ControllerHelpers.GetUserImagePath(item.GetMainPic(), false, PictureData.GetFolder(ProviderType.Offer)), item.Name)
                                    </div>
                                    <div class="localisationImgDesc">
                                        <span class="bold">@item.Name</span>
                                    </div>                                   
                                </div>
                            </a>
                        }
			            </ul>
                        <div class="clear">
                        </div>
                    }
                    else
                    { 
                        <span>@Worki.Resources.Views.BackOffice.BackOfficeString.PlaceDoNotHaveOffer</span>
                    }
                </div>
            </div>
		</div>
	</div>
	<div class="clear">
	</div>
</div>