!function(a){var f=function(h,i){this.options=i;this.$element=a(h).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};f.prototype={constructor:f,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var i=this,h=a.Event("show");this.$element.trigger(h);if(this.isShown||h.isDefaultPrevented()){return}a("body").addClass("modal-open");this.isShown=true;c.call(this);b.call(this,function(){var j=a.support.transition&&i.$element.hasClass("fade");if(!i.$element.parent().length){i.$element.appendTo(document.body)}i.$element.show();if(j){i.$element[0].offsetWidth}i.$element.addClass("in");j?i.$element.one(a.support.transition.end,function(){i.$element.trigger("shown")}):i.$element.trigger("shown")})},hide:function(h){h&&h.preventDefault();var i=this;h=a.Event("hide");this.$element.trigger(h);if(!this.isShown||h.isDefaultPrevented()){return}this.isShown=false;a("body").removeClass("modal-open");c.call(this);this.$element.removeClass("in");a.support.transition&&this.$element.hasClass("fade")?e.call(this):d.call(this)}};function e(){var h=this,i=setTimeout(function(){h.$element.off(a.support.transition.end);d.call(h)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(i);d.call(h)})}function d(h){this.$element.hide().trigger("hidden");b.call(this)}function b(i){var k=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var j=a.support.transition&&h;this.$backdrop=a('<div class="modal-backdrop '+h+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(a.proxy(this.hide,this))}if(j){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");j?this.$backdrop.one(a.support.transition.end,i):i()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(g,this)):g.call(this)}else{if(i){i()}}}}function g(){this.$backdrop.remove();this.$backdrop=null}function c(){var h=this;if(this.isShown&&this.options.keyboard){a(document).on("keyup.dismiss.modal",function(i){i.which==27&&h.hide()})}else{if(!this.isShown){a(document).off("keyup.dismiss.modal")}}}a.fn.modal=function(h){return this.each(function(){var i=a(this),j=i.data("modal"),k=a.extend({},a.fn.modal.defaults,i.data(),typeof h=="object"&&h);if(!j){i.data("modal",(j=new f(this,k)))}if(typeof h=="string"){j[h]()}else{if(k.show){j.show()}}})};a.fn.modal.defaults={backdrop:true,keyboard:true,show:true};a.fn.modal.Constructor=f;a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(j){var i=a(this),k,h=a(i.attr("data-target")||(k=i.attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,"")),l=h.data("modal")?"toggle":a.extend({},h.data(),i.data());j.preventDefault();h.modal(l)})})}(window.jQuery);