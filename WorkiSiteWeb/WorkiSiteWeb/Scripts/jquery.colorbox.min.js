(function(a,E,ai){var C={transition:"elastic",speed:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,returnFocus:true,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined},B="colorbox",ac="cbox",z=ac+"Element",L=ac+"_open",K=ac+"_load",I=ac+"_complete",G=ac+"_cleanup",H=ac+"_closed",M=ac+"_purge",S=!a.support.opacity&&!a.support.style,T=S&&!ai.XMLHttpRequest,J=ac+"_IE6",m,c,v,e,t,h,p,b,o,u,i,j,k,s,f,q,l,n,d,g,af,Q,R,W,X,F,O,ab,aa,w,A,Y,ad,D="div",P;function r(am,al,aj){var ak=E.createElement(am);if(al){ak.id=ac+al}if(aj){ak.style.cssText=aj}return a(ak)}function N(aj){var ak=o.length,al=(O+aj)%ak;return(al<0)?ak+al:al}function ae(ak,aj){return Math.round((/%/.test(ak)?((aj==="x"?u.width():u.height())/100):1)*parseInt(ak,10))}function U(aj){return af.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(aj)}function Z(){var aj;af=a.extend({},a.data(F,B));for(aj in af){if(a.isFunction(af[aj])&&aj.slice(0,2)!=="on"){af[aj]=af[aj].call(F)}}af.rel=af.rel||F.rel||"nofollow";af.href=af.href||a(F).attr("href");af.title=af.title||F.title;if(typeof af.href==="string"){af.href=a.trim(af.href)}}function ah(ak,aj){a.event.trigger(ak);if(aj){aj.call(F)}}function ag(){var ao,aj=ac+"Slideshow_",al="click."+ac,am,an,ak;if(af.slideshow&&o[1]){am=function(){q.text(af.slideshowStop).unbind(al).bind(I,function(){if(af.loop||o[O+1]){ao=setTimeout(ad.next,af.slideshowSpeed)}}).bind(K,function(){clearTimeout(ao)}).one(al+" "+G,an);c.removeClass(aj+"off").addClass(aj+"on");ao=setTimeout(ad.next,af.slideshowSpeed)};an=function(){clearTimeout(ao);q.text(af.slideshowStart).unbind([I,K,G,al].join(" ")).one(al,function(){ad.next();am()});c.removeClass(aj+"on").addClass(aj+"off")};if(af.slideshowAuto){am()}else{an()}}else{c.removeClass(aj+"off "+aj+"on")}}function V(aj){if(!A){F=aj;Z();o=a(F);O=0;if(af.rel!=="nofollow"){o=a("."+z).filter(function(){var ak=a.data(this,B).rel||this.rel;return(ak===af.rel)});O=o.index(F);if(O===-1){o=o.add(F);O=o.length-1}}if(!aa){aa=w=true;c.show();if(af.returnFocus){a(F).blur().one(H,function(){a(this).focus()})}m.css({opacity:+af.opacity,cursor:af.overlayClose?"pointer":"auto"}).show();af.w=ae(af.initialWidth,"x");af.h=ae(af.initialHeight,"y");ad.position();if(T){u.bind("resize."+J+" scroll."+J,function(){m.css({width:u.width(),height:u.height(),top:u.scrollTop(),left:u.scrollLeft()})}).trigger("resize."+J)}ah(L,af.onOpen);g.add(s).hide();d.html(af.close).show()}ad.load(true)}}function y(){if(!c&&E.body){P=false;u=a(ai);c=r(D).attr({id:B,"class":S?ac+(T?"IE6":"IE"):""}).hide();m=r(D,"Overlay",T?"position:absolute":"").hide();v=r(D,"Wrapper");e=r(D,"Content").append(i=r(D,"LoadedContent","width:0; height:0; overflow:hidden"),k=r(D,"LoadingOverlay").add(r(D,"LoadingGraphic")),s=r(D,"Title"),f=r(D,"Current"),l=r(D,"Next"),n=r(D,"Previous"),q=r(D,"Slideshow").bind(L,ag),d=r(D,"Close"));v.append(r(D).append(r(D,"TopLeft"),t=r(D,"TopCenter"),r(D,"TopRight")),r(D,false,"clear:left").append(h=r(D,"MiddleLeft"),e,p=r(D,"MiddleRight")),r(D,false,"clear:left").append(r(D,"BottomLeft"),b=r(D,"BottomCenter"),r(D,"BottomRight"))).find("div div").css({"float":"left"});j=r(D,false,"position:absolute; width:9999px; visibility:hidden; display:none");g=l.add(n).add(f).add(q);a(E.body).append(m,c.append(v,j))}}function x(){if(c){if(!P){P=true;Q=t.height()+b.height()+e.outerHeight(true)-e.height();R=h.width()+p.width()+e.outerWidth(true)-e.width();W=i.outerHeight(true);X=i.outerWidth(true);c.css({"padding-bottom":Q,"padding-right":R});l.click(function(){ad.next()});n.click(function(){ad.prev()});d.click(function(){ad.close()});m.click(function(){if(af.overlayClose){ad.close()}});a(E).bind("keydown."+ac,function(aj){var ak=aj.keyCode;if(aa&&af.escKey&&ak===27){aj.preventDefault();ad.close()}if(aa&&af.arrowKey&&o[1]){if(ak===37){aj.preventDefault();n.click()}else{if(ak===39){aj.preventDefault();l.click()}}}});a("."+z,E).live("click",function(aj){if(!(aj.which>1||aj.shiftKey||aj.altKey||aj.metaKey)){aj.preventDefault();V(this)}})}return true}return false}if(a.colorbox){return}a(y);ad=a.fn[B]=a[B]=function(al,ak){var aj=this;al=al||{};y();if(x()){if(!aj[0]){if(aj.selector){return aj}aj=a("<a/>");al.open=true}if(ak){al.onComplete=ak}aj.each(function(){a.data(this,B,a.extend({},a.data(this,B)||C,al))}).addClass(z);if((a.isFunction(al.open)&&al.open.call(aj))||al.open){V(aj[0])}}return aj};ad.position=function(ap,ak){var aq=0,aj=0,am=c.offset(),ao=u.scrollTop(),an=u.scrollLeft();u.unbind("resize."+ac);c.css({top:-90000,left:-90000});if(af.fixed&&!T){am.top-=ao;am.left-=an;c.css({position:"fixed"})}else{aq=ao;aj=an;c.css({position:"absolute"})}if(af.right!==false){aj+=Math.max(u.width()-af.w-X-R-ae(af.right,"x"),0)}else{if(af.left!==false){aj+=ae(af.left,"x")}else{aj+=Math.round(Math.max(u.width()-af.w-X-R,0)/2)}}if(af.bottom!==false){aq+=Math.max(u.height()-af.h-W-Q-ae(af.bottom,"y"),0)}else{if(af.top!==false){aq+=ae(af.top,"y")}else{aq+=Math.round(Math.max(u.height()-af.h-W-Q,0)/2)}}c.css({top:am.top,left:am.left});ap=(c.width()===af.w+X&&c.height()===af.h+W)?0:ap||0;v[0].style.width=v[0].style.height="9999px";function al(ar){t[0].style.width=b[0].style.width=e[0].style.width=ar.style.width;e[0].style.height=h[0].style.height=p[0].style.height=ar.style.height}c.dequeue().animate({width:af.w+X,height:af.h+W,top:aq,left:aj},{duration:ap,complete:function(){al(this);w=false;v[0].style.width=(af.w+X+R)+"px";v[0].style.height=(af.h+W+Q)+"px";if(af.reposition){setTimeout(function(){u.bind("resize."+ac,ad.position)},1)}if(ak){ak()}},step:function(){al(this)}})};ad.resize=function(aj){if(aa){aj=aj||{};if(aj.width){af.w=ae(aj.width,"x")-X-R}if(aj.innerWidth){af.w=ae(aj.innerWidth,"x")}i.css({width:af.w});if(aj.height){af.h=ae(aj.height,"y")-W-Q}if(aj.innerHeight){af.h=ae(aj.innerHeight,"y")}if(!aj.innerHeight&&!aj.height){i.css({height:"auto"});af.h=i.height()}i.css({height:af.h});ad.position(af.transition==="none"?0:af.speed)}};ad.prep=function(am){if(!aa){return}var aj,an=af.transition==="none"?0:af.speed;i.remove();i=r(D,"LoadedContent").append(am);function al(){af.w=af.w||i.width();af.w=af.mw&&af.mw<af.w?af.mw:af.w;return af.w}function ak(){af.h=af.h||i.height();af.h=af.mh&&af.mh<af.h?af.mh:af.h;return af.h}i.hide().appendTo(j.show()).css({width:al(),overflow:af.scrolling?"auto":"hidden"}).css({height:ak()}).prependTo(e);j.hide();a(ab).css({"float":"none"});if(T){a("select").not(c.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(G,function(){this.style.visibility="inherit"})}aj=function(){var av,ar,ay=o.length,at,aq="frameBorder",ao="allowTransparency",ap,ax,au;if(!aa){return}function aw(){if(S){c[0].style.removeAttribute("filter")}}ap=function(){clearTimeout(Y);k.hide();ah(I,af.onComplete)};if(S){if(ab){i.fadeIn(100)}}s.html(af.title).add(i).show();if(ay>1){if(typeof af.current==="string"){f.html(af.current.replace("{current}",O+1).replace("{total}",ay)).show()}l[(af.loop||O<ay-1)?"show":"hide"]().html(af.next);n[(af.loop||O)?"show":"hide"]().html(af.previous);if(af.slideshow){q.show()}if(af.preloading){av=[N(-1),N(1)];while(ar=o[av.pop()]){ax=a.data(ar,B).href||ar.href;if(a.isFunction(ax)){ax=ax.call(ar)}if(U(ax)){au=new Image();au.src=ax}}}}else{g.hide()}if(af.iframe){at=r("iframe")[0];if(aq in at){at[aq]=0}if(ao in at){at[ao]="true"}at.name=ac+(+new Date());if(af.fastIframe){ap()}else{a(at).one("load",ap)}at.src=af.href;if(!af.scrolling){at.scrolling="no"}a(at).addClass(ac+"Iframe").appendTo(i).one(M,function(){at.src="//about:blank"})}else{ap()}if(af.transition==="fade"){c.fadeTo(an,1,aw)}else{aw()}};if(af.transition==="fade"){c.fadeTo(an,0,function(){ad.position(0,aj)})}else{ad.position(an,aj)}};ad.load=function(ak){var aj,am,al=ad.prep;w=true;ab=false;F=o[O];if(!ak){Z()}ah(M);ah(K,af.onLoad);af.h=af.height?ae(af.height,"y")-W-Q:af.innerHeight&&ae(af.innerHeight,"y");af.w=af.width?ae(af.width,"x")-X-R:af.innerWidth&&ae(af.innerWidth,"x");af.mw=af.w;af.mh=af.h;if(af.maxWidth){af.mw=ae(af.maxWidth,"x")-X-R;af.mw=af.w&&af.w<af.mw?af.w:af.mw}if(af.maxHeight){af.mh=ae(af.maxHeight,"y")-W-Q;af.mh=af.h&&af.h<af.mh?af.h:af.mh}aj=af.href;Y=setTimeout(function(){k.show()},100);if(af.inline){r(D).hide().insertBefore(a(aj)[0]).one(M,function(){a(this).replaceWith(i.children())});al(a(aj))}else{if(af.iframe){al(" ")}else{if(af.html){al(af.html)}else{if(U(aj)){a(ab=new Image()).addClass(ac+"Photo").error(function(){af.title=false;al(r(D,"Error").text("This image could not be loaded"))}).load(function(){var an;ab.onload=null;if(af.scalePhotos){am=function(){ab.height-=ab.height*an;ab.width-=ab.width*an};if(af.mw&&ab.width>af.mw){an=(ab.width-af.mw)/ab.width;am()}if(af.mh&&ab.height>af.mh){an=(ab.height-af.mh)/ab.height;am()}}if(af.h){ab.style.marginTop=Math.max(af.h-ab.height,0)/2+"px"}if(o[1]&&(af.loop||o[O+1])){ab.style.cursor="pointer";ab.onclick=function(){ad.next()}}if(S){ab.style.msInterpolationMode="bicubic"}setTimeout(function(){al(ab)},1)});setTimeout(function(){ab.src=aj},1)}else{if(aj){j.load(aj,af.data,function(an,ao,ap){al(ao==="error"?r(D,"Error").text("Request unsuccessful: "+ap.statusText):a(this).contents())})}}}}}};ad.next=function(){if(!w&&o[1]&&(af.loop||o[O+1])){O=N(1);ad.load()}};ad.prev=function(){if(!w&&o[1]&&(af.loop||O)){O=N(-1);ad.load()}};ad.close=function(){if(aa&&!A){A=true;aa=false;ah(G,af.onCleanup);u.unbind("."+ac+" ."+J);m.fadeTo(200,0);c.stop().fadeTo(300,0,function(){c.add(m).css({opacity:1,cursor:"auto"}).hide();ah(M);i.remove();setTimeout(function(){A=false;ah(H,af.onClosed)},1)})}};ad.remove=function(){a([]).add(c).add(m).remove();c=null;a("."+z).removeData(B).removeClass(z).die()};ad.element=function(){return a(F)};ad.settings=C}(jQuery,document,this));