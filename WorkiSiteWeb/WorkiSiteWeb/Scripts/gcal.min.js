(function(a){var d=a.fullCalendar;var e=d.formatDate;var f=d.parseISO8601;var b=d.addDays;var c=d.applyAll;d.sourceNormalizers.push(function(h){if(h.dataType=="gcal"||h.dataType===undefined&&(h.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//)){h.dataType="gcal";if(h.editable===undefined){h.editable=false}}});d.sourceFetchers.push(function(i,j,h){if(i.dataType=="gcal"){return g(i,j,h)}});function g(k,l,j){var m=k.success;var i=a.extend({},k.data||{},{"start-min":e(l,"u"),"start-max":e(j,"u"),singleevents:true,"max-results":9999});var h=k.currentTimezone;if(h){i.ctz=h=h.replace(" ","_")}return a.extend({},k,{url:k.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:i,startParam:false,endParam:false,success:function(o){var p=[];if(o.feed.entry){a.each(o.feed.entry,function(u,t){var w=t["gd$when"][0]["startTime"];var v=f(w,true);var s=f(t["gd$when"][0]["endTime"],true);var r=w.indexOf("T")==-1;var x;a.each(t.link,function(y,z){if(z.type=="text/html"){x=z.href;if(h){x+=(x.indexOf("?")==-1?"?":"&")+"ctz="+h}}});if(r){b(s,-1)}p.push({id:t["gCal$uid"]["value"],title:t.title["$t"],url:x,start:v,end:s,allDay:r,location:t["gd$where"][0]["valueString"],description:t.content["$t"]})})}var n=[p].concat(Array.prototype.slice.call(arguments,1));var q=c(m,this,n);if(a.isArray(q)){return q}return p}})}d.gcalFeed=function(i,h){return a.extend({},h,{url:i,dataType:"gcal"})}})(jQuery);