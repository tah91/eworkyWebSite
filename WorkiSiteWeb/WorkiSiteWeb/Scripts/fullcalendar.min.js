(function(a,aw){var D={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};var ah={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var I=a.fullCalendar={version:"1.5.2"};var J=I.views={};a.fn.fullCalendar=function(aG){if(typeof aG=="string"){var aE=Array.prototype.slice.call(arguments,1);var aH;this.each(function(){var aI=a.data(this,"fullCalendar");if(aI&&a.isFunction(aI[aG])){var aJ=aI[aG].apply(aI,aE);if(aH===aw){aH=aJ}if(aG=="destroy"){a.removeData(this,"fullCalendar")}}});if(aH!==aw){return aH}return this}var aF=aG.eventSources||[];delete aG.eventSources;if(aG.events){aF.push(aG.events);delete aG.events}aG=a.extend(true,{},D,(aG.isRTL||aG.isRTL===aw&&D.isRTL)?ah:{},aG);this.each(function(aL,aI){var aK=a(aI);var aJ=new r(aK,aG,aF);aK.data("fullCalendar",aJ);aJ.render()});return this};function am(aE){a.extend(true,D,aE)}function r(aO,a9,aS){var bm=this;bm.options=a9;bm.render=bd;bm.destroy=aN;bm.refetchEvents=bc;bm.reportEvents=bg;bm.reportEventChange=bf;bm.rerenderEvents=bh;bm.changeView=aJ;bm.select=bj;bm.unselect=bq;bm.prev=ba;bm.next=a6;bm.prevYear=bb;bm.nextYear=a7;bm.today=bo;bm.gotoDate=aW;bm.incrementDate=a0;bm.formatDate=function(bw,bv){return M(bw,bv,a9)};bm.formatDates=function(bx,bv,bw){return N(bx,bv,bw,a9)};bm.getDate=aU;bm.getView=aV;bm.option=a8;bm.trigger=bp;G.call(bm,a9,aS);var a2=bm.isFetchNeeded;var aT=bm.fetchEvents;var aF=aO[0];var aX;var aY;var aK;var bn;var aL;var bt={};var aP;var bl;var aG;var bi=0;var aZ=0;var aM=new Date();var aR=[];var aE;aq(aM,a9.year,a9.month,a9.date);function bd(bv){if(!aK){a1()}else{aI();a5();a4();be(bv)}}function a1(){bn=a9.theme?"ui":"fc";aO.addClass("fc");if(a9.isRTL){aO.addClass("fc-rtl")}if(a9.theme){aO.addClass("ui-widget")}aK=a("<div class='fc-content' style='position:relative'/>").prependTo(aO);aX=new Q(bm,a9);aY=aX.render();if(aY){aO.prepend(aY)}aJ(a9.defaultView);a(window).resize(bu);if(!aH()){a3()}}function a3(){setTimeout(function(){if(!aL.start&&aH()){be()}},0)}function aN(){a(window).unbind("resize",bu);aX.destroy();aK.remove();aO.removeClass("fc fc-rtl ui-widget")}function aQ(){return aF.offsetWidth!==0}function aH(){return a("body")[0].offsetWidth!==0}function aJ(bw){if(!aL||bw!=aL.name){aZ++;bq();var bx=aL;var bv;if(bx){(bx.beforeHide||ac)();an(aK,aK.height());bx.element.hide()}else{an(aK,1)}aK.css("overflow","hidden");aL=bt[bw];if(aL){aL.element.show()}else{aL=bt[bw]=new J[bw](bv=aG=a("<div class='fc-view fc-view-"+bw+"' style='position:absolute'/>").appendTo(aK),bm)}if(bx){aX.deactivateButton(bx.name)}aX.activateButton(bw);be();aK.css("overflow","");if(bx){an(aK,1)}if(!bv){(aL.afterShow||ac)()}aZ--}}function be(bw){if(aQ()){aZ++;bq();if(bl===aw){aI()}var bv=false;if(!aL.start||bw||aM<aL.start||aM>=aL.end){aL.render(aM,bw||0);bk(true);bv=true}else{if(aL.sizeDirty){aL.clearEvents();bk();bv=true}else{if(aL.eventsDirty){aL.clearEvents();bv=true}}}aL.sizeDirty=false;aL.eventsDirty=false;br(bv);aP=aO.outerWidth();aX.updateTitle(aL.title);var bx=new Date();if(bx>=aL.start&&bx<aL.end){aX.disableButton("today")}else{aX.enableButton("today")}aZ--;aL.trigger("viewDisplay",aF)}}function bs(){a5();if(aQ()){aI();bk();bq();aL.clearEvents();aL.renderEvents(aR);aL.sizeDirty=false}}function a5(){a.each(bt,function(bv,bw){bw.sizeDirty=true})}function aI(){if(a9.contentHeight){bl=a9.contentHeight}else{if(a9.height){bl=a9.height-(aY?aY.height():0)-aB(aK)}else{bl=Math.round(aK.width()/Math.max(a9.aspectRatio,0.5))}}}function bk(bv){aZ++;aL.setHeight(bl,bv);if(aG){aG.css("position","relative");aG=null}aL.setWidth(aK.width(),bv);aZ--}function bu(){if(!aZ){if(aL.start){var bv=++bi;setTimeout(function(){if(bv==bi&&!aZ&&aQ()){if(aP!=(aP=aO.outerWidth())){aZ++;bs();aL.trigger("windowResize",aF);aZ--}}},200)}else{a3()}}}function br(bv){if(!a9.lazyFetching||a2(aL.visStart,aL.visEnd)){bc()}else{if(bv){bh()}}}function bc(){aT(aL.visStart,aL.visEnd)}function bg(bv){aR=bv;bh()}function bf(bv){bh(bv)}function bh(bv){a4();if(aQ()){aL.clearEvents();aL.renderEvents(aR,bv);aL.eventsDirty=false}}function a4(){a.each(bt,function(bv,bw){bw.eventsDirty=true})}function bj(bx,bw,bv){aL.select(bx,bw,bv===aw?true:bv)}function bq(){if(aL){aL.unselect()}}function ba(){be(-1)}function a6(){be(1)}function bb(){f(aM,-1);be()}function a7(){f(aM,1);be()}function bo(){aM=new Date();be()}function aW(bx,bw,bv){if(bx instanceof Date){aM=t(bx)}else{aq(aM,bx,bw,bv)}be()}function a0(bx,bw,bv){if(bx!==aw){f(aM,bx)}if(bw!==aw){e(aM,bw)}if(bv!==aw){c(aM,bv)}be()}function aU(){return t(aM)}function aV(){return aL}function a8(bv,bw){if(bw===aw){return a9[bv]}if(bv=="height"||bv=="contentHeight"||bv=="aspectRatio"){a9[bv]=bw;bs()}}function bp(bv,bw){if(a9[bv]){return a9[bv].apply(bw||aF,Array.prototype.slice.call(arguments,2))}}if(a9.droppable){a(document).bind("dragstart",function(by,bz){var bv=by.target;var bx=a(bv);if(!bx.parents(".fc").length){var bw=a9.dropAccept;if(a.isFunction(bw)?bw.call(bv,bx):bx.is(bw)){aE=bv;aL.dragStart(aE,by,bz)}}}).bind("dragstop",function(bv,bw){if(aE){aL.dragStop(aE,bv,bw);aE=null}})}}function Q(aF,aL){var aO=this;aO.render=aM;aO.destroy=aH;aO.updateTitle=aQ;aO.activateButton=aE;aO.deactivateButton=aG;aO.disableButton=aI;aO.enableButton=aK;var aJ=a([]);var aP;function aM(){aP=aL.theme?"ui":"fc";var aR=aL.header;if(aR){aJ=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(aN("left")).append(aN("center")).append(aN("right")));return aJ}}function aH(){aJ.remove()}function aN(aT){var aS=a("<td class='fc-header-"+aT+"'/>");var aR=aL.header[aT];if(aR){a.each(aR.split(" "),function(aU){if(aU>0){aS.append("<span class='fc-header-space'/>")}var aV;a.each(this.split(","),function(a0,aY){if(aY=="title"){aS.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(aV){aV.addClass(aP+"-corner-right")}aV=null}else{var aX;if(aF[aY]){aX=aF[aY]}else{if(J[aY]){aX=function(){aW.removeClass(aP+"-state-hover");aF.changeView(aY)}}}if(aX){var aZ=aL.theme?au(aL.buttonIcons,aY):null;var a1=au(aL.buttonText,aY);var aW=a("<span class='fc-button fc-button-"+aY+" "+aP+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(aZ?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+aZ+"'/></span>":a1)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(aW){aW.click(function(){if(!aW.hasClass(aP+"-state-disabled")){aX()}}).mousedown(function(){aW.not("."+aP+"-state-active").not("."+aP+"-state-disabled").addClass(aP+"-state-down")}).mouseup(function(){aW.removeClass(aP+"-state-down")}).hover(function(){aW.not("."+aP+"-state-active").not("."+aP+"-state-disabled").addClass(aP+"-state-hover")},function(){aW.removeClass(aP+"-state-hover").removeClass(aP+"-state-down")}).appendTo(aS);if(!aV){aW.addClass(aP+"-corner-left")}aV=aW}}}});if(aV){aV.addClass(aP+"-corner-right")}})}return aS}function aQ(aR){aJ.find("h2").html(aR)}function aE(aR){aJ.find("span.fc-button-"+aR).addClass(aP+"-state-active")}function aG(aR){aJ.find("span.fc-button-"+aR).removeClass(aP+"-state-active")}function aI(aR){aJ.find("span.fc-button-"+aR).addClass(aP+"-state-disabled")}function aK(aR){aJ.find("span.fc-button-"+aR).removeClass(aP+"-state-disabled")}}I.sourceNormalizers=[];I.sourceFetchers=[];var k={dataType:"json",cache:false};var F=1;function G(aV,aG){var a7=this;a7.isFetchNeeded=aQ;a7.fetchEvents=aL;a7.addEventSource=aH;a7.removeEventSource=a2;a7.updateEvent=a9;a7.renderEvent=a3;a7.removeEvents=a1;a7.clientEvents=aJ;a7.normalizeEvent=aT;var a8=a7.trigger;var aO=a7.getView;var a4=a7.reportEvents;var a6={events:[]};var a5=[a6];var a0,aZ;var aK=0;var aW=0;var aS=0;var aI=[];for(var aP=0;aP<aG.length;aP++){aE(aG[aP])}function aQ(bb,ba){return !a0||bb<a0||ba>aZ}function aL(be,ba){a0=be;aZ=ba;aI=[];var bb=++aK;var bd=a5.length;aW=bd;for(var bc=0;bc<bd;bc++){aM(a5[bc],bb)}}function aM(bb,ba){aF(bb,function(bc){if(ba==aK){if(bc){for(var bd=0;bd<bc.length;bd++){bc[bd].source=bb;aT(bc[bd])}aI=aI.concat(bc)}aW--;if(!aW){a4(aI)}}})}function aF(bj,ba){var bh;var bg=I.sourceFetchers;var bi;for(bh=0;bh<bg.length;bh++){bi=bg[bh](bj,a0,aZ,ba);if(bi===true){return}else{if(typeof bi=="object"){aF(bi,ba);return}}}var bf=bj.events;if(bf){if(a.isFunction(bf)){aY();bf(t(a0),t(aZ),function(bn){ba(bn);aX()})}else{if(a.isArray(bf)){ba(bf)}else{ba()}}}else{var bm=bj.url;if(bm){var bl=bj.success;var be=bj.error;var bb=bj.complete;var bc=a.extend({},bj.data||{});var bk=K(bj.startParam,aV.startParam);var bd=K(bj.endParam,aV.endParam);if(bk){bc[bk]=Math.round(+a0/1000)}if(bd){bc[bd]=Math.round(+aZ/1000)}aY();a.ajax(a.extend({},k,bj,{data:bc,success:function(bn){bn=bn||[];var bo=l(bl,this,arguments);if(a.isArray(bo)){bn=bo}ba(bn)},error:function(){l(be,this,arguments);ba()},complete:function(){l(bb,this,arguments);aX()}}))}else{ba()}}}function aH(ba){ba=aE(ba);if(ba){aW++;aM(ba,aK)}}function aE(ba){if(a.isFunction(ba)||a.isArray(ba)){ba={events:ba}}else{if(typeof ba=="string"){ba={url:ba}}}if(typeof ba=="object"){aU(ba);a5.push(ba);return ba}}function a2(ba){a5=a.grep(a5,function(bb){return !aR(bb,ba)});aI=a.grep(aI,function(bb){return !aR(bb.source,ba)});a4(aI)}function a9(bd){var be,bf=aI.length,bb,ba=aO().defaultEventEnd,bg=bd.start-bd._start,bc=bd.end?(bd.end-(bd._end||ba(bd))):0;for(be=0;be<bf;be++){bb=aI[be];if(bb._id==bd._id&&bb!=bd){bb.start=new Date(+bb.start+bg);if(bd.end){if(bb.end){bb.end=new Date(+bb.end+bc)}else{bb.end=new Date(+ba(bb)+bc)}}else{bb.end=null}bb.title=bd.title;bb.url=bd.url;bb.allDay=bd.allDay;bb.className=bd.className;bb.editable=bd.editable;bb.color=bd.color;bb.backgroudColor=bd.backgroudColor;bb.borderColor=bd.borderColor;bb.textColor=bd.textColor;aT(bb)}}aT(bd);a4(aI)}function a3(ba,bb){aT(ba);if(!ba.source){if(bb){a6.events.push(ba);ba.source=a6}aI.push(ba)}a4(aI)}function a1(ba){if(!ba){aI=[];for(var bb=0;bb<a5.length;bb++){if(a.isArray(a5[bb].events)){a5[bb].events=[]}}}else{if(!a.isFunction(ba)){var bc=ba+"";ba=function(bd){return bd._id==bc}}aI=a.grep(aI,ba,true);for(var bb=0;bb<a5.length;bb++){if(a.isArray(a5[bb].events)){a5[bb].events=a.grep(a5[bb].events,ba,true)}}}a4(aI)}function aJ(ba){if(a.isFunction(ba)){return a.grep(aI,ba)}else{if(ba){ba+="";return a.grep(aI,function(bb){return bb._id==ba})}}return aI}function aY(){if(!aS++){a8("loading",null,true)}}function aX(){if(!--aS){a8("loading",null,false)}}function aT(ba){var bc=ba.source||{};var bb=K(bc.ignoreTimezone,aV.ignoreTimezone);ba._id=ba._id||(ba.id===aw?"_fc"+F++:ba.id+"");if(ba.date){if(!ba.start){ba.start=ba.date}delete ba.date}ba._start=t(ba.start=ae(ba.start,bb));ba.end=ae(ba.end,bb);if(ba.end&&ba.end<=ba.start){ba.end=null}ba._end=ba.end?t(ba.end):null;if(ba.allDay===aw){ba.allDay=K(bc.allDayDefault,aV.allDayDefault)}if(ba.className){if(typeof ba.className=="string"){ba.className=ba.className.split(/\s+/)}}else{ba.className=[]}}function aU(bc){if(bc.className){if(typeof bc.className=="string"){bc.className=bc.className.split(/\s+/)}}else{bc.className=[]}var bb=I.sourceNormalizers;for(var ba=0;ba<bb.length;ba++){bb[ba](bc)}}function aR(ba,bb){return ba&&bb&&aN(ba)==aN(bb)}function aN(ba){return((typeof ba=="object")?(ba.events||ba.url):"")||ba}}I.addDays=c;I.cloneDate=t;I.parseDate=ae;I.parseISO8601=af;I.parseTime=ag;I.formatDate=M;I.formatDates=N;var C=["sun","mon","tue","wed","thu","fri","sat"],z=86400000,T=3600000,aa=60000;function f(aE,aG,aF){aE.setFullYear(aE.getFullYear()+aG);if(!aF){s(aE)}return aE}function e(aF,aI,aG){if(+aF){var aH=aF.getMonth()+aI,aE=t(aF);aE.setDate(1);aE.setMonth(aH);aF.setMonth(aH);if(!aG){s(aF)}while(aF.getMonth()!=aE.getMonth()){aF.setDate(aF.getDate()+(aF<aE?1:-1))}}return aF}function c(aF,aI,aH){if(+aF){var aG=aF.getDate()+aI,aE=t(aF);aE.setHours(9);aE.setDate(aG);aF.setDate(aG);if(!aH){s(aF)}L(aF,aE)}return aF}function L(aF,aE){if(+aF){while(aF.getDate()!=aE.getDate()){aF.setTime(+aF+(aF<aE?1:-1)*T)}}}function d(aE,aF){aE.setMinutes(aE.getMinutes()+aF);return aE}function s(aE){aE.setHours(0);aE.setMinutes(0);aE.setSeconds(0);aE.setMilliseconds(0);return aE}function t(aE,aF){if(aF){return s(new Date(+aE))}return new Date(+aE)}function aC(){var aF=0,aE;do{aE=new Date(1970,aF++,1)}while(aE.getHours());return aE}function ar(aE,aG,aF){aG=aG||1;while(!aE.getDay()||(aF&&aE.getDay()==1||!aF&&aE.getDay()==6)){c(aE,aG)}return aE}function A(aE,aF){return Math.round((t(aE,true)-t(aF,true))/z)}function aq(aF,aH,aG,aE){if(aH!==aw&&aH!=aF.getFullYear()){aF.setDate(1);aF.setMonth(0);aF.setFullYear(aH)}if(aG!==aw&&aG!=aF.getMonth()){aF.setDate(1);aF.setMonth(aG)}if(aE!==aw){aF.setDate(aE)}}function ae(aF,aE){if(typeof aF=="object"){return aF}if(typeof aF=="number"){return new Date(aF*1000)}if(typeof aF=="string"){if(aF.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aF)*1000)}if(aE===aw){aE=true}return af(aF,aE)||(aF?new Date(aF):null)}return null}function af(aJ,aG){var aH=aJ.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aH){return null}var aF=new Date(aH[1],0,1);if(aG||!aH[13]){var aE=new Date(aH[1],0,1,9,0);if(aH[3]){aF.setMonth(aH[3]-1);aE.setMonth(aH[3]-1)}if(aH[5]){aF.setDate(aH[5]);aE.setDate(aH[5])}L(aF,aE);if(aH[7]){aF.setHours(aH[7])}if(aH[8]){aF.setMinutes(aH[8])}if(aH[10]){aF.setSeconds(aH[10])}if(aH[12]){aF.setMilliseconds(Number("0."+aH[12])*1000)}L(aF,aE)}else{aF.setUTCFullYear(aH[1],aH[3]?aH[3]-1:0,aH[5]||1);aF.setUTCHours(aH[7]||0,aH[8]||0,aH[10]||0,aH[12]?Number("0."+aH[12])*1000:0);if(aH[14]){var aI=Number(aH[16])*60+(aH[18]?Number(aH[18]):0);aI*=aH[15]=="-"?1:-1;aF=new Date(+aF+(aI*60*1000))}}return aF}function ag(aG){if(typeof aG=="number"){return aG*60}if(typeof aG=="object"){return aG.getHours()*60+aG.getMinutes()}var aF=aG.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aF){var aE=parseInt(aF[1],10);if(aF[3]){aE%=12;if(aF[3].toLowerCase().charAt(0)=="p"){aE+=12}}return aE*60+(aF[2]?parseInt(aF[2],10):0)}}function M(aE,aF,aG){return N(aE,null,aF,aG)}function N(aG,aH,aI,aN){aN=aN||D;var aF=aG,aO=aH,aK,aM=aI.length,aE,aL,aJ,aP="";for(aK=0;aK<aM;aK++){aE=aI.charAt(aK);if(aE=="'"){for(aL=aK+1;aL<aM;aL++){if(aI.charAt(aL)=="'"){if(aF){if(aL==aK+1){aP+="'"}else{aP+=aI.substring(aK+1,aL)}aK=aL}break}}}else{if(aE=="("){for(aL=aK+1;aL<aM;aL++){if(aI.charAt(aL)==")"){var aR=M(aF,aI.substring(aK+1,aL),aN);if(parseInt(aR.replace(/\D/,""),10)){aP+=aR}aK=aL;break}}}else{if(aE=="["){for(aL=aK+1;aL<aM;aL++){if(aI.charAt(aL)=="]"){var aQ=aI.substring(aK+1,aL);var aR=M(aF,aQ,aN);if(aR!=M(aO,aQ,aN)){aP+=aR}aK=aL;break}}}else{if(aE=="{"){aF=aH;aO=aG}else{if(aE=="}"){aF=aG;aO=aH}else{for(aL=aM;aL>aK;aL--){if(aJ=y[aI.substring(aK,aL)]){if(aF){aP+=aJ(aF,aN)}aK=aL-1;break}}if(aL==aK){if(aF){aP+=aE}}}}}}}}return aP}var y={s:function(aE){return aE.getSeconds()},ss:function(aE){return aD(aE.getSeconds())},m:function(aE){return aE.getMinutes()},mm:function(aE){return aD(aE.getMinutes())},h:function(aE){return aE.getHours()%12||12},hh:function(aE){return aD(aE.getHours()%12||12)},H:function(aE){return aE.getHours()},HH:function(aE){return aD(aE.getHours())},d:function(aE){return aE.getDate()},dd:function(aE){return aD(aE.getDate())},ddd:function(aE,aF){return aF.dayNamesShort[aE.getDay()]},dddd:function(aE,aF){return aF.dayNames[aE.getDay()]},M:function(aE){return aE.getMonth()+1},MM:function(aE){return aD(aE.getMonth()+1)},MMM:function(aE,aF){return aF.monthNamesShort[aE.getMonth()]},MMMM:function(aE,aF){return aF.monthNames[aE.getMonth()]},yy:function(aE){return(aE.getFullYear()+"").substring(2)},yyyy:function(aE){return aE.getFullYear()},t:function(aE){return aE.getHours()<12?"a":"p"},tt:function(aE){return aE.getHours()<12?"am":"pm"},T:function(aE){return aE.getHours()<12?"A":"P"},TT:function(aE){return aE.getHours()<12?"AM":"PM"},u:function(aE){return M(aE,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aE){var aF=aE.getDate();if(aF>10&&aF<20){return"th"}return["st","nd","rd"][aF%10-1]||"th"}};I.applyAll=l;function H(aE){if(aE.end){return b(aE.end,aE.allDay)}else{return c(t(aE.start),1)}}function b(aF,aE){aF=t(aF);return aE||aF.getHours()||aF.getMinutes()?c(aF,1):s(aF)}function ai(aE,aF){return(aF.msLength-aE.msLength)*100+(aE.event.start-aF.event.start)}function aj(aE,aF){return aE.end>aF.start&&aE.start<aF.end}function at(aH,aR,aQ,aE){var aO=[],aJ,aM=aH.length,aF,aI,aG,aP,aN,aL,aK;for(aJ=0;aJ<aM;aJ++){aF=aH[aJ];aI=aF.start;aG=aR[aJ];if(aG>aQ&&aI<aE){if(aI<aQ){aP=t(aQ);aL=false}else{aP=aI;aL=true}if(aG>aE){aN=t(aE);aK=false}else{aN=aG;aK=true}aO.push({event:aF,start:aP,end:aN,isStart:aL,isEnd:aK,msLength:aN-aP})}}return aO.sort(ai)}function av(aL){var aJ=[],aF,aI=aL.length,aK,aG,aE,aH;for(aF=0;aF<aI;aF++){aK=aL[aF];aG=0;while(true){aE=false;if(aJ[aG]){for(aH=0;aH<aJ[aG].length;aH++){if(aj(aJ[aG][aH],aK)){aE=true;break}}}if(aE){aG++}else{break}}if(aJ[aG]){aJ[aG].push(aK)}else{aJ[aG]=[aK]}}return aJ}function Y(aF,aG,aE){aF.unbind("mouseover").mouseover(function(aI){var aK=aI.target,aH,aJ,aL;while(aK!=this){aH=aK;aK=aK.parentNode}if((aJ=aH._fci)!==aw){aH._fci=aw;aL=aG[aJ];aE(aL.event,aL.element,aL);a(aI.target).trigger(aI)}aI.stopPropagation()})}function ap(aF,aI,aH){for(var aG=0,aE;aG<aF.length;aG++){aE=a(aF[aG]);aE.width(Math.max(0,aI-W(aE,aH)))}}function ao(aF,aG,aI){for(var aH=0,aE;aH<aF.length;aH++){aE=a(aF[aH]);aE.height(Math.max(0,aG-aB(aE,aI)))}}function W(aE,aF){return V(aE)+P(aE)+(aF?R(aE):0)}function V(aE){return(parseFloat(a.curCSS(aE[0],"paddingLeft",true))||0)+(parseFloat(a.curCSS(aE[0],"paddingRight",true))||0)}function R(aE){return(parseFloat(a.curCSS(aE[0],"marginLeft",true))||0)+(parseFloat(a.curCSS(aE[0],"marginRight",true))||0)}function P(aE){return(parseFloat(a.curCSS(aE[0],"borderLeftWidth",true))||0)+(parseFloat(a.curCSS(aE[0],"borderRightWidth",true))||0)}function aB(aE,aF){return aA(aE)+ax(aE)+(aF?az(aE):0)}function aA(aE){return(parseFloat(a.curCSS(aE[0],"paddingTop",true))||0)+(parseFloat(a.curCSS(aE[0],"paddingBottom",true))||0)}function az(aE){return(parseFloat(a.curCSS(aE[0],"marginTop",true))||0)+(parseFloat(a.curCSS(aE[0],"marginBottom",true))||0)}function ax(aE){return(parseFloat(a.curCSS(aE[0],"borderTopWidth",true))||0)+(parseFloat(a.curCSS(aE[0],"borderBottomWidth",true))||0)}function an(aE,aF){aF=(typeof aF=="number"?aF+"px":aF);aE.each(function(aH,aG){aG.style.cssText+=";min-height:"+aF+";_height:"+aF})}function ac(){}function u(aE,aF){return aE-aF}function m(aE){return Math.max.apply(Math,aE)}function aD(aE){return(aE<10?"0":"")+aE}function au(aG,aF){if(aG[aF]!==aw){return aG[aF]}var aH=aF.split(/(?=[A-Z])/),aE=aH.length-1,aI;for(;aE>=0;aE--){aI=aG[aH[aE].toLowerCase()];if(aI!==aw){return aI}}return aG[""]}function X(aE){return aE.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function x(aE){return aE.id+"/"+aE.className+"/"+aE.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function E(aE){aE.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Z(aE){aE.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function al(aE,aF){aE.each(function(aH,aG){aG.className=aG.className.replace(/^fc-\w*/,"fc-"+C[aF.getDay()])})}function O(aG,aI){var aK=aG.source||{};var aH=aG.color;var aL=aK.color;var aJ=aI("eventColor");var aE=aG.backgroundColor||aH||aK.backgroundColor||aL||aI("eventBackgroundColor")||aJ;var aF=aG.borderColor||aH||aK.borderColor||aL||aI("eventBorderColor")||aJ;var aN=aG.textColor||aK.textColor||aI("eventTextColor");var aM=[];if(aE){aM.push("background-color:"+aE)}if(aF){aM.push("border-color:"+aF)}if(aN){aM.push("color:"+aN)}return aM.join(";")}function l(aF,aI,aE){if(a.isFunction(aF)){aF=[aF]}if(aF){var aG;var aH;for(aG=0;aG<aF.length;aG++){aH=aF[aG].apply(aI,aE)||aH}return aH}}function K(){for(var aE=0;aE<arguments.length;aE++){if(arguments[aE]!==aw){return arguments[aE]}}}J.month=ab;function ab(aF,aE){var aK=this;aK.render=aI;p.call(aK,aF,aE,"month");var aH=aK.opt;var aJ=aK.renderBasic;var aG=aE.formatDate;function aI(aL,aM){if(aM){e(aL,aM);aL.setDate(1)}var aR=t(aL,true);aR.setDate(1);var aN=e(t(aR),1);var aT=t(aR);var aS=t(aN);var aO=aH("firstDay");var aP=aH("weekends")?0:1;if(aP){ar(aT);ar(aS,-1,true)}c(aT,-((aT.getDay()-Math.max(aO,aP)+7)%7));c(aS,(7-aS.getDay()+Math.max(aO,aP))%7);var aQ=Math.round((aS-aT)/(z*7));if(aH("weekMode")=="fixed"){c(aS,(6-aQ)*7);aQ=6}aK.title=aG(aR,aH("titleFormat"));aK.start=aR;aK.end=aN;aK.visStart=aT;aK.visEnd=aS;aJ(6,aQ,aP?5:7,true)}}J.basicWeek=q;function q(aF,aE){var aK=this;aK.render=aI;p.call(aK,aF,aE,"basicWeek");var aH=aK.opt;var aJ=aK.renderBasic;var aG=aE.formatDates;function aI(aL,aM){if(aM){c(aL,aM*7)}var aO=c(t(aL),-((aL.getDay()-aH("firstDay")+7)%7));var aN=c(t(aO),7);var aQ=t(aO);var aP=t(aN);var aR=aH("weekends");if(!aR){ar(aQ);ar(aP,-1,true)}aK.title=aG(aQ,c(t(aP),-1),aH("titleFormat"));aK.start=aO;aK.end=aN;aK.visStart=aQ;aK.visEnd=aP;aJ(1,1,aR?7:5,false)}}J.basicDay=n;function n(aF,aE){var aK=this;aK.render=aI;p.call(aK,aF,aE,"basicDay");var aH=aK.opt;var aJ=aK.renderBasic;var aG=aE.formatDate;function aI(aL,aM){if(aM){c(aL,aM);if(!aH("weekends")){ar(aL,aM<0?-1:1)}}aK.title=aG(aL,aH("titleFormat"));aK.start=aK.visStart=t(aL,true);aK.end=aK.visEnd=c(t(aK.start),1);aJ(1,1,1,false)}}am({weekMode:"fixed"});function p(bb,aN,bA){var bu=this;bu.renderBasic=bk;bu.setHeight=bs;bu.setWidth=bt;bu.renderDayOverlay=bm;bu.defaultSelectionEnd=a6;bu.renderSelection=bo;bu.clearSelection=aR;bu.reportDayClick=bp;bu.dragStart=a9;bu.dragStop=ba;bu.defaultEventEnd=a5;bu.getHoverListener=function(){return bg};bu.colContentLeft=aT;bu.colContentRight=aV;bu.dayOfWeekCol=a2;bu.dateCell=aZ;bu.cellDate=aO;bu.cellIsAllDay=function(){return true};bu.allDayRow=aG;bu.allDayBounds=aF;bu.getRowCnt=function(){return bq};bu.getColCnt=function(){return aS};bu.getColWidth=function(){return aX};bu.getDaySegmentContainer=function(){return a3};ay.call(bu,bb,aN,bA);ad.call(bu);ak.call(bu);o.call(bu);var bj=bu.opt;var bw=bu.trigger;var aP=bu.clearEvents;var bn=bu.renderOverlay;var aQ=bu.clearOverlays;var a4=bu.daySelectionMousedown;var bd=aN.formatDate;var be;var bf;var aH;var aL;var aI;var aK;var aJ;var a3;var bB;var bz;var aX;var bq,aS;var aY;var bg;var aU;var br,a7,a8;var bc;var bi;var bv;var aW;E(bb.addClass("fc-grid"));function bk(bE,bF,bC,bG){bq=bF;aS=bC;by();var bD=!aH;if(bD){aM(bE,bG)}else{aP()}bx(bD)}function by(){br=bj("isRTL");if(br){a7=-1;a8=aS-1}else{a7=1;a8=0}bc=bj("firstDay");bi=bj("weekends")?0:1;bv=bj("theme")?"ui":"fc";aW=bj("columnFormat")}function aM(bG,bI){var bH;var bD=bv+"-widget-header";var bC=bv+"-widget-content";var bE,bF;var bJ;bH="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(bE=0;bE<aS;bE++){bH+="<th class='fc- "+bD+"'/>"}bH+="</tr></thead><tbody>";for(bE=0;bE<bG;bE++){bH+="<tr class='fc-week"+bE+"'>";for(bF=0;bF<aS;bF++){bH+="<td class='fc- "+bC+" fc-day"+(bE*aS+bF)+"'><div>"+(bI?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}bH+="</tr>"}bH+="</tbody></table>";bJ=a(bH).appendTo(bb);be=bJ.find("thead");bf=be.find("th");aH=bJ.find("tbody");aL=aH.find("tr");aI=aH.find("td");aK=aI.filter(":first-child");aJ=aL.eq(0).find("div.fc-day-content div");Z(be.add(be.find("tr")));Z(aL);aL.eq(0).addClass("fc-first");a0(aI);a3=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bb)}function bx(bF){var bE=bF||bq==1;var bG=bu.start.getMonth();var bI=s(new Date());var bC;var bD;var bH;if(bE){bf.each(function(bK,bJ){bC=a(bJ);bD=bh(bK);bC.html(bd(bD,aW));al(bC,bD)})}aI.each(function(bK,bJ){bC=a(bJ);bD=bh(bK);if(bD.getMonth()==bG){bC.removeClass("fc-other-month")}else{bC.addClass("fc-other-month")}if(+bD==+bI){bC.addClass(bv+"-state-highlight fc-today")}else{bC.removeClass(bv+"-state-highlight fc-today")}bC.find("div.fc-day-number").text(bD.getDate());if(bE){al(bC,bD)}});aL.each(function(bK,bJ){bH=a(bJ);if(bK<bq){bH.show();if(bK==bq-1){bH.addClass("fc-last")}else{bH.removeClass("fc-last")}}else{bH.hide()}})}function bs(bE){bz=bE;var bC=bz-be.height();var bF;var bG;var bD;if(bj("weekMode")=="variable"){bF=bG=Math.floor(bC/(bq==1?2:6))}else{bF=Math.floor(bC/bq);bG=bC-bF*(bq-1)}aK.each(function(bI,bH){if(bI<bq){bD=a(bH);an(bD.find("> div"),(bI==bq-1?bG:bF)-aB(bD))}})}function bt(bC){bB=bC;aU.clear();aX=Math.floor(bB/aS);ap(bf.slice(0,-1),aX)}function a0(bC){bC.click(a1).mousedown(a4)}function a1(bD){if(!bj("selectable")){var bE=parseInt(this.className.match(/fc\-day(\d+)/)[1]);var bC=bh(bE);bw("dayClick",this,bC,true,bD)}}function bm(bG,bF,bH){if(bH){aY.build()}var bJ=t(bu.visStart);var bI=c(t(bJ),aS);for(var bE=0;bE<bq;bE++){var bL=new Date(Math.max(bJ,bG));var bK=new Date(Math.min(bI,bF));if(bL<bK){var bD,bC;if(br){bD=A(bK,bJ)*a7+a8+1;bC=A(bL,bJ)*a7+a8+1}else{bD=A(bL,bJ);bC=A(bK,bJ)}a0(bl(bE,bD,bE,bC-1))}c(bJ,7);c(bI,7)}}function bl(bF,bC,bG,bD){var bE=aY.rect(bF,bC,bG,bD,bb);return bn(bE,bb)}function a6(bD,bC){return t(bD)}function bo(bE,bD,bC){bm(bE,c(t(bD),1),true)}function aR(){aQ()}function bp(bF,bD,bG){var bE=aZ(bF);var bC=aI[bE.row*aS+bE.col];bw("dayClick",bC,bF,bD,bG)}function a9(bC,bD,bE){bg.start(function(bF){aQ();if(bF){bl(bF.row,bF.col,bF.row,bF.col)}},bD)}function ba(bC,bF,bG){var bD=bg.stop();aQ();if(bD){var bE=aO(bD);bw("drop",bC,bE,true,bF,bG)}}function a5(bC){return t(bC.start)}aY=new v(function(bG,bC){var bD,bE,bF;bf.each(function(bI,bH){bD=a(bH);bE=bD.offset().left;if(bI){bF[1]=bE}bF=[bE];bC[bI]=bF});bF[1]=bE+bD.outerWidth();aL.each(function(bI,bH){if(bI<bq){bD=a(bH);bE=bD.offset().top;if(bI){bF[1]=bE}bF=[bE];bG[bI]=bF}});bF[1]=bE+bD.outerHeight()});bg=new U(aY);aU=new S(function(bC){return aJ.eq(bC)});function aT(bC){return aU.left(bC)}function aV(bC){return aU.right(bC)}function aZ(bC){return{row:Math.floor(A(bC,bu.visStart)/7),col:a2(bC.getDay())}}function aO(bC){return aE(bC.row,bC.col)}function aE(bD,bC){return c(t(bu.visStart),bD*7+bC*a7+a8)}function bh(bC){return aE(Math.floor(bC/aS),bC%aS)}function a2(bC){return((bC-Math.max(bc,bi)+aS)%aS)*a7+a8}function aG(bC){return aL.eq(bC)}function aF(bC){return{left:0,right:bB}}}function o(){var a0=this;a0.renderEvents=aV;a0.compileDaySegs=aH;a0.clearEvents=aF;a0.bindDaySeg=aE;B.call(a0);var aS=a0.opt;var a1=a0.trigger;var aQ=a0.isEventDraggable;var aR=a0.isEventResizable;var aX=a0.reportEvents;var aW=a0.reportEventClear;var aK=a0.eventElementHandlers;var aZ=a0.showEvents;var aP=a0.hideEvents;var aJ=a0.eventDrop;var aM=a0.getDaySegmentContainer;var aN=a0.getHoverListener;var aT=a0.renderDayOverlay;var aG=a0.clearOverlays;var aO=a0.getRowCnt;var aL=a0.getColCnt;var aU=a0.renderDaySegs;var aY=a0.resizableDayEvent;function aV(a2,a3){aX(a2);aU(aH(a2),a3)}function aF(){aW();aM().empty()}function aH(a5){var bb=aO(),a2=aL(),a3=t(a0.visStart),a4=c(t(a3),a2),be=a.map(a5,H),a6,ba,a7,a9,a8,bc,bd=[];for(a6=0;a6<bb;a6++){ba=av(at(a5,be,a3,a4));for(a7=0;a7<ba.length;a7++){a9=ba[a7];for(a8=0;a8<a9.length;a8++){bc=a9[a8];bc.row=a6;bc.level=a7;bd.push(bc)}}c(a3,7);c(a4,7)}return bd}function aE(a2,a3,a4){if(aQ(a2)){aI(a2,a3)}if(a4.isEnd&&aR(a2)){aY(a2,a3,a4)}aK(a2,a3)}function aI(a3,a4){var a5=aN();var a2;a4.draggable({zIndex:9,delay:50,opacity:aS("dragOpacity"),revertDuration:aS("dragRevertDuration"),start:function(a6,a7){a1("eventDragStart",a4,a3,a6,a7);aP(a3,a4);a5.start(function(a8,ba,bb,a9){a4.draggable("option","revert",!a8||!bb&&!a9);aG();if(a8){a2=bb*7+a9*(aS("isRTL")?-1:1);aT(c(t(a3.start),a2),c(H(a3),a2))}else{a2=0}},a6,"drag")},stop:function(a6,a7){a5.stop();aG();a1("eventDragStop",a4,a3,a6,a7);if(a2){aJ(this,a3,a2,0,a3.allDay,a6,a7)}else{a4.css("filter","");aZ(a3,a4)}}})}}J.agendaWeek=j;function j(aF,aE){var aK=this;aK.render=aI;i.call(aK,aF,aE,"agendaWeek");var aH=aK.opt;var aJ=aK.renderAgenda;var aG=aE.formatDates;function aI(aL,aM){if(aM){c(aL,aM*7)}var aO=c(t(aL),-((aL.getDay()-aH("firstDay")+7)%7));var aN=c(t(aO),7);var aQ=t(aO);var aP=t(aN);var aR=aH("weekends");if(!aR){ar(aQ);ar(aP,-1,true)}aK.title=aG(aQ,c(t(aP),-1),aH("titleFormat"));aK.start=aO;aK.end=aN;aK.visStart=aQ;aK.visEnd=aP;aJ(aR?7:5)}}J.agendaDay=g;function g(aF,aE){var aK=this;aK.render=aI;i.call(aK,aF,aE,"agendaDay");var aH=aK.opt;var aJ=aK.renderAgenda;var aG=aE.formatDate;function aI(aL,aM){if(aM){c(aL,aM);if(!aH("weekends")){ar(aL,aM<0?-1:1)}}var aO=t(aL,true);var aN=c(t(aO),1);aK.title=aG(aL,aH("titleFormat"));aK.start=aK.visStart=aO;aK.end=aK.visEnd=aN;aJ(1)}}am({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});function i(bj,aM,b4){var bW=this;bW.renderAgenda=bu;bW.setWidth=bI;bW.setHeight=bH;bW.beforeHide=aK;bW.afterShow=aE;bW.defaultEventEnd=bd;bW.timePosition=bX;bW.dayOfWeekCol=a9;bW.dateCell=a0;bW.cellDate=aN;bW.cellIsAllDay=aO;bW.allDayRow=bm;bW.allDayBounds=aF;bW.getHoverListener=function(){return bp};bW.colContentLeft=aT;bW.colContentRight=aV;bW.getDaySegmentContainer=function(){return ba};bW.getSlotSegmentContainer=function(){return bR};bW.getMinMinute=function(){return br};bW.getMaxMinute=function(){return bq};bW.getBodyContent=function(){return bM};bW.getRowCnt=function(){return 1};bW.getColCnt=function(){return aS};bW.getColWidth=function(){return aY};bW.getSlotHeight=function(){return bN};bW.defaultSelectionEnd=be;bW.renderDayOverlay=bw;bW.renderSelection=by;bW.clearSelection=aR;bW.reportDayClick=bB;bW.dragStart=bh;bW.dragStop=bi;ay.call(bW,bj,aM,b4);ad.call(bW);ak.call(bW);h.call(bW);var bt=bW.opt;var bZ=bW.trigger;var aP=bW.clearEvents;var bx=bW.renderOverlay;var aQ=bW.clearOverlays;var bC=bW.reportSelection;var b0=bW.unselect;var bb=bW.daySelectionMousedown;var bQ=bW.slotSegHtml;var bl=aM.formatDate;var bc;var a7;var a8;var a2;var a4;var a3;var a5;var a6;var bO;var ba;var aH;var aG;var bP;var bM;var bR;var bT;var bU;var aI;var bn;var bG;var b5;var b3;var aJ;var aY;var bo;var bN;var bF;var aS;var bL;var aZ;var bp;var aU;var bV={};var bY;var bk;var bs;var bE,bf,bg;var br,bq;var aX;E(bj.addClass("fc-agenda"));function bu(b6){aS=b6;b2();if(!bc){aL()}else{aP()}b1()}function b2(){bY=bt("theme")?"ui":"fc";bs=bt("weekends")?0:1;bk=bt("firstDay");if(bE=bt("isRTL")){bf=-1;bg=aS-1}else{bf=1;bg=0}br=ag(bt("minTime"));bq=ag(bt("maxTime"));aX=bt("columnFormat")}function aL(){var b8=bY+"-widget-header";var b6=bY+"-widget-content";var cc;var b9;var b7;var ca;var cb;var cd=bt("slotMinutes")%15==0;cc="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+b8+"'>&nbsp;</th>";for(b9=0;b9<aS;b9++){cc+="<th class='fc- fc-col"+b9+" "+b8+"'/>"}cc+="<th class='fc-agenda-gutter "+b8+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+b8+"'>&nbsp;</th>";for(b9=0;b9<aS;b9++){cc+="<td class='fc- fc-col"+b9+" "+b6+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}cc+="<td class='fc-agenda-gutter "+b6+"'>&nbsp;</td></tr></tbody></table>";bc=a(cc).appendTo(bj);a7=bc.find("thead");a8=a7.find("th").slice(1,-1);a2=bc.find("tbody");a4=a2.find("td").slice(0,-1);a3=a4.find("div.fc-day-content div");a5=a4.eq(0);a6=a5.find("> div");Z(a7.add(a7.find("tr")));Z(a2.add(a2.find("tr")));aI=a7.find("th:first");bn=bc.find(".fc-agenda-gutter");bO=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bj);if(bt("allDaySlot")){ba=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bO);cc="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+b8+" fc-agenda-axis'>"+bt("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+b8+" fc-agenda-gutter'>&nbsp;</th></tr></table>";aH=a(cc).appendTo(bO);aG=aH.find("tr");a1(aG.find("td"));aI=aI.add(aH.find("th:first"));bn=bn.add(aH.find("th.fc-agenda-gutter"));bO.append("<div class='fc-agenda-divider "+b8+"'><div class='fc-agenda-divider-inner'/></div>")}else{ba=a([])}bP=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(bO);bM=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bP);bR=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bM);cc="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";b7=aC();ca=d(t(b7),bq);d(b7,br);bL=0;for(b9=0;b7<ca;b9++){cb=b7.getMinutes();cc+="<tr class='fc-slot"+b9+" "+(!cb?"":"fc-minor")+"'><th class='fc-agenda-axis "+b8+"'>"+((!cd||!cb)?bl(b7,bt("axisFormat")):"&nbsp;")+"</th><td class='"+b6+"'><div style='position:relative'>&nbsp;</div></td></tr>";d(b7,bt("slotMinutes"));bL++}cc+="</tbody></table>";bT=a(cc).appendTo(bM);bU=bT.find("div:first");bJ(bT.find("td"));aI=aI.add(bT.find("th:first"))}function b1(){var b9;var b8;var b6;var b7;var ca=s(new Date());for(b9=0;b9<aS;b9++){b7=aW(b9);b8=a8.eq(b9);b8.html(bl(b7,aX));b6=a4.eq(b9);if(+b7==+ca){b6.addClass(bY+"-state-highlight fc-today")}else{b6.removeClass(bY+"-state-highlight fc-today")}al(b8.add(b6),b7)}}function bH(ca,b8){if(ca===aw){ca=b3}b3=ca;bV={};var b9=a2.position().top;var b6=bP.position().top;var b7=Math.min(ca-b9,bT.height()+b6+1);a6.height(b7-aB(a5));bO.css("top",b9);bP.height(b7-b6-1);bN=bU.height()+1;if(b8){bD()}}function bI(b7){b5=b7;aU.clear();aJ=0;ap(aI.width("").each(function(b9,b8){aJ=Math.max(aJ,a(b8).outerWidth())}),aJ);var b6=bP[0].clientWidth;bo=bP.width()-b6;if(bo){ap(bn,bo);bn.show().prev().removeClass("fc-last")}else{bn.hide().prev().addClass("fc-last")}aY=Math.floor((b6-aJ)/aS);ap(a8.slice(0,-1),aY)}function bD(){var b6=aC();var b8=t(b6);b8.setHours(bt("firstHour"));var b9=bX(b6,b8)+1;function b7(){bP.scrollTop(b9)}b7();setTimeout(b7,0)}function aK(){bF=bP.scrollTop()}function aE(){bP.scrollTop(bF)}function a1(b6){b6.click(bK).mousedown(bb)}function bJ(b6){b6.click(bK).mousedown(bS)}function bK(b8){if(!bt("selectable")){var b6=Math.min(aS-1,Math.floor((b8.pageX-bc.offset().left-aJ)/aY));var b7=aW(b6);var cb=this.parentNode.className.match(/fc-slot(\d+)/);if(cb){var ca=parseInt(cb[1])*bt("slotMinutes");var b9=Math.floor(ca/60);b7.setHours(b9);b7.setMinutes(ca%60+br);bZ("dayClick",a4[b6],b7,false,b8)}else{bZ("dayClick",a4[b6],b7,true,b8)}}}function bw(ca,b7,b8){if(b8){aZ.build()}var cb=t(bW.visStart);var b9,b6;if(bE){b9=A(b7,cb)*bf+bg+1;b6=A(ca,cb)*bf+bg+1}else{b9=A(ca,cb);b6=A(b7,cb)}b9=Math.max(0,b9);b6=Math.min(aS,b6);if(b9<b6){a1(bv(0,b9,0,b6-1))}}function bv(b9,b6,ca,b7){var b8=aZ.rect(b9,b6,ca,b7,bO);return bx(b8,bO)}function bz(cc,cb){var b9=t(bW.visStart);var b8=c(t(b9),1);for(var ca=0;ca<aS;ca++){var cf=new Date(Math.max(b9,cc));var ce=new Date(Math.min(b8,cb));if(cf<ce){var b7=ca*bf+bg;var cd=aZ.rect(0,b7,0,b7,bM);var cg=bX(b9,cf);var b6=bX(b9,ce);cd.top=cg;cd.height=b6-cg;bJ(bx(cd,bM))}c(b9,1);c(b8,1)}}aZ=new v(function(cc,b6){var b8,ca,cb;a8.each(function(ch,cg){b8=a(cg);ca=b8.offset().left;if(ch){cb[1]=ca}cb=[ca];b6[ch]=cb});cb[1]=ca+b8.outerWidth();if(bt("allDaySlot")){b8=aG;ca=b8.offset().top;cc[0]=[ca,ca+b8.outerHeight()]}var cf=bM.offset().top;var ce=bP.offset().top;var cd=ce+bP.outerHeight();function b7(cg){return Math.max(ce,Math.min(cd,cg))}for(var b9=0;b9<bL;b9++){cc.push([b7(cf+bN*b9),b7(cf+bN*(b9+1))])}});bp=new U(aZ);aU=new S(function(b6){return a3.eq(b6)});function aT(b6){return aU.left(b6)}function aV(b6){return aU.right(b6)}function a0(b6){return{row:Math.floor(A(b6,bW.visStart)/7),col:a9(b6.getDay())}}function aN(b6){var b7=aW(b6.col);var b8=b6.row;if(bt("allDaySlot")){b8--}if(b8>=0){d(b7,br+b8*bt("slotMinutes"))}return b7}function aW(b6){return c(t(bW.visStart),b6*bf+bg)}function aO(b6){return bt("allDaySlot")&&!b6.row}function a9(b6){return((b6-Math.max(bk,bs)+aS)%aS)*bf+bg}function bX(b6,cb){b6=t(b6,true);if(cb<d(t(b6),br)){return 0}if(cb>=d(t(b6),bq)){return bT.height()}var b9=bt("slotMinutes"),b7=cb.getHours()*60+cb.getMinutes()-br,b8=Math.floor(b7/b9),ca=bV[b8];if(ca===aw){ca=bV[b8]=bT.find("tr:eq("+b8+") td div")[0].offsetTop}return Math.max(0,Math.round(ca-1+bN*((b7%b9)/b9)))}function aF(){return{left:aJ,right:b5-bo}}function bm(b6){return aG}function bd(b6){var b7=t(b6.start);if(b6.allDay){return b7}return d(b7,bt("defaultEventMinutes"))}function be(b7,b6){if(b6){return t(b7)}return d(t(b7),bt("slotMinutes"))}function by(b8,b7,b6){if(b6){if(bt("allDaySlot")){bw(b8,c(t(b7),1),true)}}else{bA(b8,b7)}}function bA(cc,b8){var b9=bt("selectHelper");aZ.build();if(b9){var b7=A(cc,bW.visStart)*bf+bg;if(b7>=0&&b7<aS){var cb=aZ.rect(0,b7,0,b7,bM);var cd=bX(cc,cc);var b6=bX(cc,b8);if(b6>cd){cb.top=cd;cb.height=b6-cd;cb.left+=2;cb.width-=5;if(a.isFunction(b9)){var ca=b9(cc,b8);if(ca){cb.position="absolute";cb.zIndex=8;bG=a(ca).css(cb).appendTo(bM)}}else{cb.isStart=true;cb.isEnd=true;bG=a(bQ({title:"",start:cc,end:b8,className:["fc-select-helper"],editable:false},cb));bG.css("opacity",bt("dragOpacity"))}if(bG){bJ(bG);bM.append(bG);ap(bG,cb.width,true);ao(bG,cb.height,true)}}}}else{bz(cc,b8)}}function aR(){aQ();if(bG){bG.remove();bG=null}}function bS(b7){if(b7.which==1&&bt("selectable")){b0(b7);var b6;bp.start(function(b8,cb){aR();if(b8&&b8.col==cb.col&&!aO(b8)){var b9=aN(cb);var ca=aN(b8);b6=[b9,d(t(b9),bt("slotMinutes")),ca,d(t(ca),bt("slotMinutes"))].sort(u);bA(b6[0],b6[3])}else{b6=null}},b7);a(document).one("mouseup",function(b8){bp.stop();if(b6){if(+b6[0]==+b6[1]){bB(b6[0],false,b8)}bC(b6[0],b6[3],false,b8)}})}}function bB(b7,b6,b8){bZ("dayClick",a4[a9(b7.getDay())],b7,b6,b8)}function bh(b6,b7,b8){bp.start(function(b9){aQ();if(b9){if(aO(b9)){bv(b9.row,b9.col,b9.row,b9.col)}else{var ca=aN(b9);var cb=d(t(ca),bt("defaultEventMinutes"));bz(ca,cb)}}},b7)}function bi(b6,b8,b9){var b7=bp.stop();aQ();if(b7){bZ("drop",b6,aN(b7),aO(b7),b8,b9)}}}function h(){var bl=this;bl.renderEvents=ba;bl.compileDaySegs=aL;bl.clearEvents=aH;bl.slotSegHtml=bk;bl.bindDaySeg=aE;B.call(bl);var a7=bl.opt;var bn=bl.trigger;var a5=bl.isEventDraggable;var a6=bl.isEventResizable;var aR=bl.eventEnd;var be=bl.reportEvents;var bc=bl.reportEventClear;var aQ=bl.eventElementHandlers;var bh=bl.setHeight;var aY=bl.getDaySegmentContainer;var a3=bl.getSlotSegmentContainer;var aZ=bl.getHoverListener;var a0=bl.getMaxMinute;var a1=bl.getMinMinute;var bm=bl.timePosition;var aJ=bl.colContentLeft;var aK=bl.colContentRight;var a9=bl.renderDaySegs;var bf=bl.resizableDayEvent;var aW=bl.getColCnt;var aX=bl.getColWidth;var a2=bl.getSlotHeight;var aV=bl.getBodyContent;var bd=bl.reportEventElement;var bi=bl.showEvents;var a4=bl.hideEvents;var aP=bl.eventDrop;var aS=bl.eventResize;var a8=bl.renderDayOverlay;var aI=bl.clearOverlays;var aG=bl.calendar;var aT=aG.formatDate;var aU=aG.formatDates;function ba(bp,bs){be(bp);var bq,br=bp.length,bo=[],bt=[];for(bq=0;bq<br;bq++){if(bp[bq].allDay){bo.push(bp[bq])}else{bt.push(bp[bq])}}if(a7("allDaySlot")){a9(aL(bo),bs);bh()}bb(aM(bt),bs)}function aH(){bc();aY().empty();a3().empty()}function aL(bo){var bt=av(at(bo,a.map(bo,H),bl.visStart,bl.visEnd)),bp,bs=bt.length,br,bq,bu,bv=[];for(bp=0;bp<bs;bp++){br=bt[bp];for(bq=0;bq<br.length;bq++){bu=br[bq];bu.row=0;bu.level=bp;bv.push(bu)}}return bv}function aM(br){var bp=aW(),bx=a1(),bw=a0(),bq=d(t(bl.visStart),bx),bA=a.map(br,bj),bs,bo,bt,bv,bu,by,bz=[];for(bs=0;bs<bp;bs++){bo=av(at(br,bA,bq,d(t(bq),bw-bx)));w(bo);for(bt=0;bt<bo.length;bt++){bv=bo[bt];for(bu=0;bu<bv.length;bu++){by=bv[bu];by.col=bs;by.level=bt;bz.push(by)}}c(bq,1,true)}return bz}function bj(bo){if(bo.end){return t(bo.end)}else{return d(t(bo.start),a7("defaultEventMinutes"))}}function bb(bN,bI){var bD,bM=bN.length,bL,bw,bq,bP,bp,bs,bH,bz,bG,bo,bJ,bF,bC="",by,bx,bQ,bS={},bB={},bE,bR,bt,bA,bO=a3(),bK,bu,bv,br=aW();if(bK=a7("isRTL")){bu=-1;bv=br-1}else{bu=1;bv=0}for(bD=0;bD<bM;bD++){bL=bN[bD];bw=bL.event;bP=bm(bL.start,bL.start);bp=bm(bL.start,bL.end);bs=bL.col;bH=bL.level;bz=bL.forward||0;bG=aJ(bs*bu+bv);bo=aK(bs*bu+bv)-bG;bo=Math.min(bo-6,bo*0.95);if(bH){bJ=bo/(bH+bz+1)}else{if(bz){bJ=((bo/(bz+1))-(12/2))*2}else{bJ=bo}}bF=bG+(bo/(bH+bz+1)*bH)*bu+(bK?bo-bJ:0);bL.top=bP;bL.left=bF;bL.outerWidth=bJ;bL.outerHeight=bp-bP;bC+=bk(bw,bL)}bO[0].innerHTML=bC;by=bO.children();for(bD=0;bD<bM;bD++){bL=bN[bD];bw=bL.event;bx=a(by[bD]);bQ=bn("eventRender",bw,bw,bx);if(bQ===false){bx.remove()}else{if(bQ&&bQ!==true){bx.remove();bx=a(bQ).css({position:"absolute",top:bL.top,left:bL.left}).appendTo(bO)}bL.element=bx;if(bw._id===bI){aF(bw,bx,bL)}else{bx[0]._fci=bD}bd(bw,bx)}}Y(bO,bN,aF);for(bD=0;bD<bM;bD++){bL=bN[bD];if(bx=bL.element){bR=bS[bE=bL.key=x(bx[0])];bL.vsides=bR===aw?(bS[bE]=aB(bx,true)):bR;bR=bB[bE];bL.hsides=bR===aw?(bB[bE]=W(bx,true)):bR;bt=bx.find("div.fc-event-content");if(bt.length){bL.contentTop=bt[0].offsetTop}}}for(bD=0;bD<bM;bD++){bL=bN[bD];if(bx=bL.element){bx[0].style.width=Math.max(0,bL.outerWidth-bL.hsides)+"px";bA=Math.max(0,bL.outerHeight-bL.vsides);bx[0].style.height=bA+"px";bw=bL.event;if(bL.contentTop!==aw&&bA-bL.contentTop<10){bx.find("div.fc-event-time").text(aT(bw.start,a7("timeFormat"))+" - "+bw.title);bx.find("div.fc-event-title").remove()}bn("eventAfterRender",bw,bw,bx)}}}function bk(bp,br){var bq="<";var bu=bp.url;var bs=O(bp,a7);var bt=(bs?" style='"+bs+"'":"");var bo=["fc-event","fc-event-skin","fc-event-vert"];if(a5(bp)){bo.push("fc-event-draggable")}if(br.isStart){bo.push("fc-corner-top")}if(br.isEnd){bo.push("fc-corner-bottom")}bo=bo.concat(bp.className);if(bp.source){bo=bo.concat(bp.source.className||[])}if(bu){bq+="a href='"+X(bp.url)+"'"}else{bq+="div"}bq+=" class='"+bo.join(" ")+"' style='position:absolute;z-index:8;top:"+br.top+"px;left:"+br.left+"px;"+bs+"'><div class='fc-event-inner fc-event-skin'"+bt+"><div class='fc-event-head fc-event-skin'"+bt+"><div class='fc-event-time'>"+X(aU(bp.start,bp.end,a7("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+X(bp.title)+"</div></div><div class='fc-event-bg'></div></div>";if(br.isEnd&&a6(bp)){bq+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bq+="</"+(bu?"a":"div")+">";return bq}function aE(bo,bp,bq){if(a5(bo)){aN(bo,bp,bq.isStart)}if(bq.isEnd&&a6(bo)){bf(bo,bp,bq)}aQ(bo,bp)}function aF(bo,bp,bq){var br=bp.find("div.fc-event-time");if(a5(bo)){aO(bo,bp,br)}if(bq.isEnd&&a6(bo)){bg(bo,bp,br)}aQ(bo,bp)}function aN(bs,bt,bv){var bx;var bz;var bo=true;var bq;var br=a7("isRTL")?-1:1;var bu=aZ();var bp=aX();var bA=a2();var bw=a1();bt.draggable({zIndex:9,opacity:a7("dragOpacity","month"),revertDuration:a7("dragRevertDuration"),start:function(bB,bC){bn("eventDragStart",bt,bs,bB,bC);a4(bs,bt);bx=bt.width();bu.start(function(bD,bF,bG,bE){aI();if(bD){bz=false;bq=bE*br;if(!bD.row){a8(c(t(bs.start),bq),c(H(bs),bq));by()}else{if(bv){if(bo){bt.width(bp-10);ao(bt,bA*Math.round((bs.end?((bs.end-bs.start)/aa):a7("defaultEventMinutes"))/a7("slotMinutes")));bt.draggable("option","grid",[bp,1]);bo=false}}else{bz=true}}bz=bz||(bo&&!bq)}else{by();bz=true}bt.draggable("option","revert",bz)},bB,"drag")},stop:function(bB,bD){bu.stop();aI();bn("eventDragStop",bt,bs,bB,bD);if(bz){by();bt.css("filter","");bi(bs,bt)}else{var bC=0;if(!bo){bC=Math.round((bt.offset().top-aV().offset().top)/bA)*a7("slotMinutes")+bw-(bs.start.getHours()*60+bs.start.getMinutes())}aP(this,bs,bq,bC,bo,bB,bD)}}});function by(){if(!bo){bt.width(bx).height("").draggable("option","grid",null);bo=true}}}function aO(bt,bu,bB){var bx;var bo=false;var br;var bw;var by;var bs=a7("isRTL")?-1:1;var bv=aZ();var bp=aW();var bq=aX();var bA=a2();bu.draggable({zIndex:9,scroll:false,grid:[bq,bA],axis:bp==1?"y":false,opacity:a7("dragOpacity"),revertDuration:a7("dragRevertDuration"),start:function(bD,bE){bn("eventDragStart",bu,bt,bD,bE);a4(bt,bu);bx=bu.position();bw=by=0;bv.start(function(bF,bH,bI,bG){bu.draggable("option","revert",!bF);aI();if(bF){br=bG*bs;if(a7("allDaySlot")&&!bF.row){if(!bo){bo=true;bB.hide();bu.draggable("option","grid",null)}a8(c(t(bt.start),br),c(H(bt),br))}else{bz()}}},bD,"drag")},drag:function(bD,bE){bw=Math.round((bE.position.top-bx.top)/bA)*a7("slotMinutes");if(bw!=by){if(!bo){bC(bw)}by=bw}},stop:function(bE,bF){var bD=bv.stop();aI();bn("eventDragStop",bu,bt,bE,bF);if(bD&&(br||bw||bo)){aP(this,bt,br,bo?0:bw,bo,bE,bF)}else{bz();bu.css("filter","");bu.css(bx);bC(0);bi(bt,bu)}}});function bC(bD){var bF=d(t(bt.start),bD);var bE;if(bt.end){bE=d(t(bt.end),bD)}bB.text(aU(bF,bE,a7("timeFormat")))}function bz(){if(bo){bB.css("display","");bu.draggable("option","grid",[bq,bA]);bo=false}}}function bg(bo,bp,bt){var br,bq;var bs=a2();bp.resizable({handles:{s:"div.ui-resizable-s"},grid:bs,start:function(bu,bv){br=bq=0;a4(bo,bp);bp.css("z-index",9);bn("eventResizeStart",this,bo,bu,bv)},resize:function(bu,bv){br=Math.round((Math.max(bs,bp.height())-bv.originalSize.height)/bs);if(br!=bq){bt.text(aU(bo.start,(!br&&!bo.end)?null:d(aR(bo),a7("slotMinutes")*br),a7("timeFormat")));bq=br}},stop:function(bu,bv){bn("eventResizeStop",this,bo,bu,bv);if(br){aS(this,bo,0,a7("slotMinutes")*br,bu,bv)}else{bp.css("z-index",8);bi(bo,bp)}}})}}function w(aI){var aE,aF,aG,aH,aK,aJ;for(aE=aI.length-1;aE>0;aE--){aH=aI[aE];for(aF=0;aF<aH.length;aF++){aK=aH[aF];for(aG=0;aG<aI[aE-1].length;aG++){aJ=aI[aE-1][aG];if(aj(aK,aJ)){aJ.forward=Math.max(aJ.forward||0,(aK.forward||0)+1)}}}}}function ay(aH,aE,a5){var a3=this;a3.element=aH;a3.calendar=aE;a3.name=a5;a3.opt=aW;a3.trigger=a4;a3.isEventDraggable=aR;a3.isEventResizable=aT;a3.reportEvents=a1;a3.eventEnd=aN;a3.reportEventElement=a0;a3.reportEventClear=aZ;a3.eventElementHandlers=aK;a3.showEvents=a2;a3.hideEvents=aQ;a3.eventDrop=aJ;a3.eventResize=aO;var aF=a3.defaultEventEnd;var aV=aE.normalizeEvent;var aY=aE.reportEventChange;var aP={};var aL=[];var aM={};var aX=aE.options;function aW(a6,a8){var a7=aX[a6];if(typeof a7=="object"){return au(a7,a8||a5)}return a7}function a4(a6,a7){return aE.trigger.apply(aE,[a6,a7||a3].concat(Array.prototype.slice.call(arguments,2),[a3]))}function aR(a6){return aS(a6)&&!aW("disableDragging")}function aT(a6){return aS(a6)&&!aW("disableResizing")}function aS(a6){return K(a6.editable,(a6.source||{}).editable,aW("editable"))}function a1(a7){aP={};var a8,a9=a7.length,a6;for(a8=0;a8<a9;a8++){a6=a7[a8];if(aP[a6._id]){aP[a6._id].push(a6)}else{aP[a6._id]=[a6]}}}function aN(a6){return a6.end?t(a6.end):aF(a6)}function a0(a7,a6){aL.push(a6);if(aM[a7._id]){aM[a7._id].push(a6)}else{aM[a7._id]=[a6]}}function aZ(){aL=[];aM={}}function aK(a6,a7){a7.click(function(a8){if(!a7.hasClass("ui-draggable-dragging")&&!a7.hasClass("ui-resizable-resizing")){return a4("eventClick",this,a6,a8)}}).hover(function(a8){a4("eventMouseover",this,a6,a8)},function(a8){a4("eventMouseout",this,a6,a8)})}function a2(a6,a7){aG(a6,a7,"show")}function aQ(a6,a7){aG(a6,a7,"hide")}function aG(a7,a8,a9){var a6=aM[a7._id],ba,bb=a6.length;for(ba=0;ba<bb;ba++){if(!a8||a6[ba][0]!=a8[0]){a6[ba][a9]()}}}function aJ(a8,ba,a7,bc,a6,a9,be){var bd=ba.allDay;var bb=ba._id;aU(aP[bb],a7,bc,a6);a4("eventDrop",a8,ba,a7,bc,a6,function(){aU(aP[bb],-a7,-bc,bd);aY(bb)},a9,be);aY(bb)}function aO(a7,a9,a6,bb,a8,bc){var ba=a9._id;aI(aP[ba],a6,bb);a4("eventResize",a7,a9,a6,bb,function(){aI(aP[ba],-a6,-bb);aY(ba)},a8,bc);aY(ba)}function aU(a9,a7,bc,a6){bc=bc||0;for(var a8,bb=a9.length,ba=0;ba<bb;ba++){a8=a9[ba];if(a6!==aw){a8.allDay=a6}d(c(a8.start,a7,true),bc);if(a8.end){a8.end=d(c(a8.end,a7,true),bc)}aV(a8,aX)}}function aI(a8,a6,bb){bb=bb||0;for(var a7,ba=a8.length,a9=0;a9<ba;a9++){a7=a8[a9];a7.end=d(c(aN(a7),a6,true),bb);aV(a7,aX)}}}function B(){var bf=this;bf.renderDaySegs=ba;bf.resizableDayEvent=bd;var a8=bf.opt;var bg=bf.trigger;var a6=bf.isEventDraggable;var a7=bf.isEventResizable;var aW=bf.eventEnd;var bc=bf.reportEventElement;var be=bf.showEvents;var a5=bf.hideEvents;var aX=bf.eventResize;var a2=bf.getRowCnt;var aZ=bf.getColCnt;var a0=bf.getColWidth;var aF=bf.allDayRow;var aE=bf.allDayBounds;var aJ=bf.colContentLeft;var aK=bf.colContentRight;var aN=bf.dayOfWeekCol;var aM=bf.dateCell;var aL=bf.compileDaySegs;var a1=bf.getDaySegmentContainer;var aG=bf.bindDaySeg;var aY=bf.calendar.formatDates;var a9=bf.renderDayOverlay;var aH=bf.clearOverlays;var aI=bf.clearSelection;function ba(bu,bn){var bt=a1();var bp;var bo=a2();var bh=aZ();var bj=0;var bq;var bm;var bi;var bk;var bs=bu.length;var br;var bv;var bl;bt[0].innerHTML=aT(bu);aR(bu,bt.children());aQ(bu);aS(bu,bt,bn);aP(bu);aV(bu);aO(bu);bp=a3();for(bq=0;bq<bo;bq++){bm=0;bi=[];for(bk=0;bk<bh;bk++){bi[bk]=0}while(bj<bs&&(br=bu[bj]).row==bq){bv=m(bi.slice(br.startCol,br.endCol));br.top=bv;bv+=br.outerHeight;for(bl=br.startCol;bl<br.endCol;bl++){bi[bl]=bv}bj++}bp[bq].height(m(bi))}aU(bu,a4(bp))}function bb(bo,bh,bi){var bp=a("<div/>");var bk;var bn=a1();var bl;var bm=bo.length;var bj;bp[0].innerHTML=aT(bo);bk=bp.children();bn.append(bk);aR(bo,bk);aP(bo);aV(bo);aO(bo);aU(bo,a4(a3()));bk=[];for(bl=0;bl<bm;bl++){bj=bo[bl].element;if(bj){if(bo[bl].row===bh){bj.css("top",bi)}bk.push(bj[0])}}return a(bk)}function aT(bv){var bs=a8("isRTL");var bl;var bu=bv.length;var bt;var bj;var bx;var bi;var bh=aE();var bp=bh.left;var bo=bh.right;var bn;var br;var bm;var bq;var bw;var bk="";for(bl=0;bl<bu;bl++){bt=bv[bl];bj=bt.event;bi=["fc-event","fc-event-skin","fc-event-hori"];if(a6(bj)){bi.push("fc-event-draggable")}if(bs){if(bt.isStart){bi.push("fc-corner-right")}if(bt.isEnd){bi.push("fc-corner-left")}bn=aN(bt.end.getDay()-1);br=aN(bt.start.getDay());bm=bt.isEnd?aJ(bn):bp;bq=bt.isStart?aK(br):bo}else{if(bt.isStart){bi.push("fc-corner-left")}if(bt.isEnd){bi.push("fc-corner-right")}bn=aN(bt.start.getDay());br=aN(bt.end.getDay()-1);bm=bt.isStart?aJ(bn):bp;bq=bt.isEnd?aK(br):bo}bi=bi.concat(bj.className);if(bj.source){bi=bi.concat(bj.source.className||[])}bx=bj.url;bw=O(bj,a8);if(bx){bk+="<a href='"+X(bx)+"'"}else{bk+="<div"}bk+=" class='"+bi.join(" ")+"' style='position:absolute;z-index:8;left:"+bm+"px;"+bw+"'><div class='fc-event-inner fc-event-skin'"+(bw?" style='"+bw+"'":"")+">";if(!bj.allDay&&bt.isStart){bk+="<span class='fc-event-time'>"+X(aY(bj.start,bj.end,a8("timeFormat")))+"</span>"}bk+="<span class='fc-event-title'>"+X(bj.title)+"</span></div>";if(bt.isEnd&&a7(bj)){bk+="<div class='ui-resizable-handle ui-resizable-"+(bs?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bk+="</"+(bx?"a":"div")+">";bt.left=bm;bt.outerWidth=bq-bm;bt.startCol=bn;bt.endCol=br+1}return bk}function aR(bn,bi){var bk;var bm=bn.length;var bl;var bj;var bh;var bo;for(bk=0;bk<bm;bk++){bl=bn[bk];bj=bl.event;bh=a(bi[bk]);bo=bg("eventRender",bj,bj,bh);if(bo===false){bh.remove()}else{if(bo&&bo!==true){bo=a(bo).css({position:"absolute",left:bl.left});bh.replaceWith(bo);bh=bo}bl.element=bh}}}function aQ(bl){var bi;var bk=bl.length;var bj;var bh;for(bi=0;bi<bk;bi++){bj=bl[bi];bh=bj.element;if(bh){bc(bj.event,bh)}}}function aS(bo,bn,bk){var bj;var bm=bo.length;var bl;var bh;var bi;for(bj=0;bj<bm;bj++){bl=bo[bj];bh=bl.element;if(bh){bi=bl.event;if(bi._id===bk){aG(bi,bh,bl)}else{bh[0]._fci=bj}}}Y(bn,bo,aG)}function aP(bn){var bj;var bm=bn.length;var bl;var bh;var bk,bo;var bi={};for(bj=0;bj<bm;bj++){bl=bn[bj];bh=bl.element;if(bh){bk=bl.key=x(bh[0]);bo=bi[bk];if(bo===aw){bo=bi[bk]=W(bh,true)}bl.hsides=bo}}}function aV(bl){var bi;var bk=bl.length;var bj;var bh;for(bi=0;bi<bk;bi++){bj=bl[bi];bh=bj.element;if(bh){bh[0].style.width=Math.max(0,bj.outerWidth-bj.hsides)+"px"}}}function aO(bm){var bi;var bl=bm.length;var bk;var bh;var bj,bn;var bo={};for(bi=0;bi<bl;bi++){bk=bm[bi];bh=bk.element;if(bh){bj=bk.key;bn=bo[bj];if(bn===aw){bn=bo[bj]=az(bh)}bk.outerHeight=bh[0].offsetHeight+bn}}}function a3(){var bh;var bi=a2();var bj=[];for(bh=0;bh<bi;bh++){bj[bh]=aF(bh).find("td:first div.fc-day-content > div")}return bj}function a4(bj){var bh;var bi=bj.length;var bk=[];for(bh=0;bh<bi;bh++){bk[bh]=bj[bh][0].offsetTop}return bk}function aU(bn,bk){var bj;var bm=bn.length;var bl;var bh;var bi;for(bj=0;bj<bm;bj++){bl=bn[bj];bh=bl.element;if(bh){bh[0].style.top=bk[bl.row]+(bl.top||0)+"px";bi=bl.event;bg("eventAfterRender",bi,bi,bh)}}}function bd(bj,bi,bn){var bm=a8("isRTL");var bh=bm?"w":"e";var bk=bi.find("div.ui-resizable-"+bh);var bl=false;E(bi);bi.mousedown(function(bo){bo.preventDefault()}).click(function(bo){if(bl){bo.preventDefault();bo.stopImmediatePropagation()}});bk.mousedown(function(bt){if(bt.which!=1){return}bl=true;var bw=bf.getHoverListener();var bz=a2();var bo=aZ();var bq=bm?-1:1;var br=bm?bo-1:0;var bs=bi.css("top");var bp;var bv;var bu=a.extend({},bj);var bx=aM(bj.start);aI();a("body").css("cursor",bh+"-resize").one("mouseup",by);bg("eventResizeStart",this,bj,bt);bw.start(function(bB,bE){if(bB){var bF=Math.max(bx.row,bB.row);var bA=bB.col;if(bz==1){bF=0}if(bF==bx.row){if(bm){bA=Math.min(bx.col,bA)}else{bA=Math.max(bx.col,bA)}}bp=(bF*7+bA*bq+br)-(bE.row*7+bE.col*bq+br);var bC=c(aW(bj),bp,true);if(bp){bu.end=bC;var bD=bv;bv=bb(aL([bu]),bn.row,bs);bv.find("*").css("cursor",bh+"-resize");if(bD){bD.remove()}a5(bj)}else{if(bv){be(bj);bv.remove();bv=null}}aH();a9(bj.start,c(t(bC),1))}},bt);function by(bA){bg("eventResizeStop",this,bj,bA);a("body").css("cursor","");bw.stop();aH();if(bp){aX(this,bj,bp,0,bA)}setTimeout(function(){bl=false},0)}})}}function ak(){var aM=this;aM.select=aK;aM.unselect=aO;aM.reportSelection=aJ;aM.daySelectionMousedown=aF;var aH=aM.opt;var aN=aM.trigger;var aG=aM.defaultSelectionEnd;var aI=aM.renderSelection;var aE=aM.clearSelection;var aL=false;if(aH("selectable")&&aH("unselectAuto")){a(document).mousedown(function(aP){var aQ=aH("unselectCancel");if(aQ){if(a(aP.target).parents(aQ).length){return}}aO(aP)})}function aK(aR,aQ,aP){aO();if(!aQ){aQ=aG(aR,aP)}aI(aR,aQ,aP);aJ(aR,aQ,aP)}function aO(aP){if(aL){aL=false;aE();aN("unselect",null,aP)}}function aJ(aS,aQ,aP,aR){aL=true;aN("select",null,aS,aQ,aP,aR)}function aF(aT){var aQ=aM.cellDate;var aR=aM.cellIsAllDay;var aU=aM.getHoverListener();var aV=aM.reportDayClick;if(aT.which==1&&aH("selectable")){aO(aT);var aP=this;var aS;aU.start(function(aW,aX){aE();if(aW&&aR(aW)){aS=[aQ(aX),aQ(aW)].sort(u);aI(aS[0],aS[1],true)}else{aS=null}},aT);a(document).one("mouseup",function(aW){aU.stop();if(aS){if(+aS[0]==+aS[1]){aV(aS[0],true,aW)}aJ(aS[0],aS[1],true,aW)}})}}}function ad(){var aG=this;aG.renderOverlay=aF;aG.clearOverlays=aE;var aI=[];var aH=[];function aF(aL,aK){var aJ=aH.shift();if(!aJ){aJ=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aJ[0].parentNode!=aK[0]){aJ.appendTo(aK)}aI.push(aJ.css(aL).show());return aJ}function aE(){var aJ;while(aJ=aI.shift()){aH.push(aJ.hide().unbind())}}}function v(aE){var aH=this;var aG;var aF;aH.build=function(){aG=[];aF=[];aE(aG,aF)};aH.cell=function(aN,aO){var aM=aG.length;var aJ=aF.length;var aK,aL=-1,aI=-1;for(aK=0;aK<aM;aK++){if(aO>=aG[aK][0]&&aO<aG[aK][1]){aL=aK;break}}for(aK=0;aK<aJ;aK++){if(aN>=aF[aK][0]&&aN<aF[aK][1]){aI=aK;break}}return(aL>=0&&aI>=0)?{row:aL,col:aI}:null};aH.rect=function(aM,aI,aN,aJ,aL){var aK=aL.offset();return{top:aG[aM][0]-aK.top,left:aF[aI][0]-aK.left,width:aF[aJ][1]-aF[aI][0],height:aG[aN][1]-aG[aM][0]}}}function U(aH){var aK=this;var aE;var aG;var aI;var aF;aK.start=function(aM,aN,aL){aG=aM;aI=aF=null;aH.build();aJ(aN);aE=aL||"mousemove";a(document).bind(aE,aJ)};function aJ(aL){var aM=aH.cell(aL.pageX,aL.pageY);if(!aM!=!aF||aM&&(aM.row!=aF.row||aM.col!=aF.col)){if(aM){if(!aI){aI=aM}aG(aM,aI,aM.row-aI.row,aM.col-aI.col)}else{aG(aM,aI)}aF=aM}}aK.stop=function(){a(document).unbind(aE,aJ);return aF}}function S(aG){var aJ=this,aF={},aH={},aI={};function aE(aK){return aF[aK]=aF[aK]||aG(aK)}aJ.left=function(aK){return aH[aK]=aH[aK]===aw?aE(aK).position().left:aH[aK]};aJ.right=function(aK){return aI[aK]=aI[aK]===aw?aJ.left(aK)+aE(aK).width():aI[aK]};aJ.clear=function(){aF={};aH={};aI={}}}})(jQuery);