function WorkiCityAutoComplete(b){var a=b;SetAutocomplete=function(){$(a).autocomplete({minLength:3,source:function(c,d){$.ajax({url:"http://api.geonames.org/searchJSON?username=tah91&country=FR&featureClass=A&featureClass=P",dataType:"jsonp",data:{style:"full",maxRows:12,q:c.term},success:function(e){var f=new Array();d($.map(e.geonames,function(j){var k=null;if(j.alternateNames!=null){$.each(j.alternateNames,function(){if(this.lang=="post"&&this.name.length==5){k=this.name;return false}})}if(k==null){k=j.adminCode2}var h=j.name+" ("+k+")";var i=j.name+" ("+j.adminCode2+")";var g=$.inArray(h,f);if(g>-1){return}f.push(h);f.push(i);return{label:h,value:h}}))}})},select:function(c,f){var e=f.item.position;var d=f.item.locType},selectFirst:true})};this.SetAutocomplete=SetAutocomplete};