!function(a){function b(d,f){var g=a.proxy(this.process,this),c=a(d).is("body")?a(window):a(d),e;this.options=a.extend({},a.fn.scrollspy.defaults,f);this.$scrollElement=c.on("scroll.scroll.data-api",g);this.selector=(this.options.target||((e=a(d).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=a("body");this.refresh();this.process()}b.prototype={constructor:b,refresh:function(){var d=this,c;this.offsets=a([]);this.targets=a([]);c=this.$body.find(this.selector).map(function(){var e=a(this),g=e.data("target")||e.attr("href"),f=/^#\w/.test(g)&&a(g);return(f&&g.length&&[[f.position().top,g]])||null}).sort(function(e,f){return e[0]-f[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})},process:function(){var h=this.$scrollElement.scrollTop()+this.options.offset,g=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,e=g-this.$scrollElement.height(),f=this.offsets,j=this.targets,c=this.activeTarget,d;if(h>=e){return c!=(d=j.last()[0])&&this.activate(d)}for(d=f.length;d--;){c!=j[d]&&h>=f[d]&&(!f[d+1]||h<=f[d+1])&&this.activate(j[d])}},activate:function(e){var c,d;this.activeTarget=e;a(this.selector).parent(".active").removeClass("active");d=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]';c=a(d).parent("li").addClass("active");if(c.parent(".dropdown-menu")){c=c.closest("li.dropdown").addClass("active")}c.trigger("activate")}};a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;if(!e){d.data("scrollspy",(e=new b(this,f)))}if(typeof c=="string"){e[c]()}})};a.fn.scrollspy.Constructor=b;a.fn.scrollspy.defaults={offset:10};a(function(){a('[data-spy="scroll"]').each(function(){var c=a(this);c.scrollspy(c.data())})})}(window.jQuery);